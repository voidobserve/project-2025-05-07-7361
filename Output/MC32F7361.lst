gplink-2.2.37 (Jan 22 2024)
Listing File Generated: 2025-6-17  18:00:37
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDF0bits
                                           	extern	_INDF1bits
                                           	extern	_INDF2bits
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PCLbits
                                           	extern	_PFLAGbits
                                           	extern	_MCRbits
                                           	extern	_INDF3bits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_DRVCRbits
                                           	extern	_P0KBCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_P2KBCRbits
                                           	extern	_IOP0bits
                                           	extern	_OEP0bits
                                           	extern	_PUP0bits
                                           	extern	_PDP0bits
                                           	extern	_IOP1bits
                                           	extern	_OEP1bits
                                           	extern	_PUP1bits
                                           	extern	_PDP1bits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T0LOADbits
                                           	extern	_T0DATAbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_T2CRbits
                                           	extern	_T2CNTbits
                                           	extern	_T2LOADbits
                                           	extern	_T2DATAbits
                                           	extern	_T3CRbits
                                           	extern	_T3CNTbits
                                           	extern	_T3LOADbits
                                           	extern	_PWM0DRbits
                                           	extern	_PWM1DRbits
                                           	extern	_PWM2DRbits
                                           	extern	_PWMCR0bits
                                           	extern	_PWMCR1bits
                                           	extern	_OSCMRbits
                                           	extern	_LVDCRbits
                                           	extern	_ADCR0bits
                                           	extern	_ADCR1bits
                                           	extern	_ADCR2bits
                                           	extern	_OSADJCRbits
                                           	extern	_ADRHbits
                                           	extern	_ADRLbits
                                           	extern	_P0ADCRbits
                                           	extern	_P1ADCRbits
                                           	extern	_IOP2bits
                                           	extern	_OEP2bits
                                           	extern	_PUP2bits
                                           	extern	_PDP2bits
                                           	extern	_PMODbits
                                           	extern	_PWMCR3bits
                                           	extern	_PWMCR2bits
                                           	extern	_PFRCCRbits
                                           	extern	_PFRCCALbits
                                           	extern	_EECRbits
                                           	extern	_EEPRbits
                                           	extern	_EEARbits
                                           	extern	_EEDRHbits
                                           	extern	_EEDRLbits
                                           	extern	_DBGCRbits
                                           	extern	_DBGPRbits
                                           	extern	_HIRCCALbits
                                           	extern	_INDF0
                                           	extern	_INDF1
                                           	extern	_INDF2
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PCL
                                           	extern	_PFLAG
                                           	extern	_MCR
                                           	extern	_INDF3
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_DRVCR
                                           	extern	_P0KBCR
                                           	extern	_P1KBCR
                                           	extern	_P2KBCR
                                           	extern	_IOP0
                                           	extern	_OEP0
                                           	extern	_PUP0
                                           	extern	_PDP0
                                           	extern	_IOP1
                                           	extern	_OEP1
                                           	extern	_PUP1
                                           	extern	_PDP1
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T0LOAD
                                           	extern	_T0DATA
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           	extern	_T2CR
                                           	extern	_T2CNT
                                           	extern	_T2LOAD
                                           	extern	_T2DATA
                                           	extern	_T3CR
                                           	extern	_T3CNT
                                           	extern	_T3LOAD
                                           	extern	_PWM0DR
                                           	extern	_PWM1DR
                                           	extern	_PWM2DR
                                           	extern	_PWMCR0
                                           	extern	_PWMCR1
                                           	extern	_OSCMR
                                           	extern	_LVDCR
                                           	extern	_ADCR0
                                           	extern	_ADCR1
                                           	extern	_ADCR2
                                           	extern	_OSADJCR
                                           	extern	_ADRH
                                           	extern	_ADRL
                                           	extern	_P0ADCR
                                           	extern	_P1ADCR
                                           	extern	_IOP2
                                           	extern	_OEP2
                                           	extern	_PUP2
                                           	extern	_PDP2
                                           	extern	_PMOD
                                           	extern	_PWMCR3
                                           	extern	_PWMCR2
                                           	extern	_PFRCCR
                                           	extern	_PFRCCAL
                                           	extern	_EECR
                                           	extern	_EEPR
                                           	extern	_EEAR
                                           	extern	_EEDRH
                                           	extern	_EEDRL
                                           	extern	_DBGCR
                                           	extern	_DBGPR
                                           	extern	_HIRCCAL
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_delay_ms
                                           	global	_CLR_RAM
                                           	global	_IO_Init
                                           	global	_timer1_config
                                           	global	_timer2_pwm_config
                                           	global	_timer2_pwm_set_feq
                                           	global	_adc_config
                                           	global	_adc_sel_pin
                                           	global	_adc_getval
                                           	global	_sys_init
                                           	global	_ir_handle
                                           	global	_bat_discharge_handle
                                           	global	_main
                                           	global	_int_isr
                                           	global	_ir_data
                                           	global	_adc_val
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_flag1
                                           	global	_flag2
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC32F7361_0	udata
                                           _ir_data	res	1
                                           
                                           UD_MC32F7361_1	udata
                                           _adc_val	res	2
                                           
                                           UD_MC32F7361_2	udata
                                           _abuf	res	1
                                           
                                           UD_MC32F7361_3	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC32F7361_4	udata
                                           _flag1	res	1
                                           
                                           UD_MC32F7361_5	udata
                                           _flag2	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC32F7361_0	udata
                                           r0x100D	res	1
                                           r0x100C	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1022	res	1
                                           r0x1013	res	1
                                           r0x1014	res	1
                                           r0x1015	res	1
                                           r0x1016	res	1
                                           r0x1017	res	1
                                           r0x1018	res	1
                                           r0x1019	res	1
                                           r0x101A	res	1
                                           r0x101B	res	1
                                           r0x101C	res	1
                                           r0x101D	res	1
                                           r0x101F	res	1
                                           r0x101E	res	1
                                           r0x1020	res	1
                                           r0x1021	res	1
                                           r0x1012	res	1
                                           r0x1023	res	1
                                           r0x1024	res	1
                                           _ir_handle_last_ir_data_131072_32	res	1
                                           _int_isr_ir_level_cnt_196608_44	res	2
                                           _int_isr___ir_data_196608_44	res	4
                                           _int_isr_cnt_196608_60	res	2
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms INDF0bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF1bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF2bits                 Allocated to registers ;size:1
                                           ;@delay_ms HIBYTEbits                Allocated to registers ;size:1
                                           ;@delay_ms FSR0bits                  Allocated to registers ;size:1
                                           ;@delay_ms FSR1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PCLbits                   Allocated to registers ;size:1
                                           ;@delay_ms PFLAGbits                 Allocated to registers ;size:1
                                           ;@delay_ms MCRbits                   Allocated to registers ;size:1
                                           ;@delay_ms INDF3bits                 Allocated to registers ;size:1
                                           ;@delay_ms INTEbits                  Allocated to registers ;size:1
                                           ;@delay_ms INTFbits                  Allocated to registers ;size:1
                                           ;@delay_ms DRVCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms P0KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P2KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms IOP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T0LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T0DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T2CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T2CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T2LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T2DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T3CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T3CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T3LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM0DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM1DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM2DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCMRbits                 Allocated to registers ;size:1
                                           ;@delay_ms LVDCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR0bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR1bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR2bits                 Allocated to registers ;size:1
                                           ;@delay_ms OSADJCRbits               Allocated to registers ;size:1
                                           ;@delay_ms ADRHbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADRLbits                  Allocated to registers ;size:1
                                           ;@delay_ms P0ADCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P1ADCRbits                Allocated to registers ;size:1
                                           ;@delay_ms IOP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms PMODbits                  Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2bits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCCRbits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms EECRbits                  Allocated to registers ;size:1
                                           ;@delay_ms EEPRbits                  Allocated to registers ;size:1
                                           ;@delay_ms EEARbits                  Allocated to registers ;size:1
                                           ;@delay_ms EEDRHbits                 Allocated to registers ;size:1
                                           ;@delay_ms EEDRLbits                 Allocated to registers ;size:1
                                           ;@delay_ms DBGCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms DBGPRbits                 Allocated to registers ;size:1
                                           ;@delay_ms HIRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms ir_data                   Allocated to registers ;size:1
                                           ;@delay_ms adc_val                   Allocated to registers ;size:2
                                           ;@delay_ms abuf                      Allocated to registers ;size:1
                                           ;@delay_ms statusbuf                 Allocated to registers ;size:1
                                           ;@delay_ms flag1                     Allocated to registers ;size:1
                                           ;@delay_ms flag2                     Allocated to registers ;size:1
                                           ;@delay_ms xms                       Allocated to registers ;size:2
                                           ;@delay_ms i                         Allocated to registers r0x100E r0x100F ;size:2
                                           ;@delay_ms INDF0                     Allocated to registers ;size:1
                                           ;@delay_ms INDF1                     Allocated to registers ;size:1
                                           ;@delay_ms INDF2                     Allocated to registers ;size:1
                                           ;@delay_ms HIBYTE                    Allocated to registers ;size:1
                                           ;@delay_ms FSR0                      Allocated to registers ;size:1
                                           ;@delay_ms FSR1                      Allocated to registers ;size:1
                                           ;@delay_ms PCL                       Allocated to registers ;size:1
                                           ;@delay_ms PFLAG                     Allocated to registers ;size:1
                                           ;@delay_ms MCR                       Allocated to registers ;size:1
                                           ;@delay_ms INDF3                     Allocated to registers ;size:1
                                           ;@delay_ms INTE                      Allocated to registers ;size:1
                                           ;@delay_ms INTF                      Allocated to registers ;size:1
                                           ;@delay_ms DRVCR                     Allocated to registers ;size:1
                                           ;@delay_ms P0KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms P2KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms IOP0                      Allocated to registers ;size:1
                                           ;@delay_ms OEP0                      Allocated to registers ;size:1
                                           ;@delay_ms PUP0                      Allocated to registers ;size:1
                                           ;@delay_ms PDP0                      Allocated to registers ;size:1
                                           ;@delay_ms IOP1                      Allocated to registers ;size:1
                                           ;@delay_ms OEP1                      Allocated to registers ;size:1
                                           ;@delay_ms PUP1                      Allocated to registers ;size:1
                                           ;@delay_ms PDP1                      Allocated to registers ;size:1
                                           ;@delay_ms T0CR                      Allocated to registers ;size:1
                                           ;@delay_ms T0CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T0LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T0DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T1CR                      Allocated to registers ;size:1
                                           ;@delay_ms T1CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T1DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T2CR                      Allocated to registers ;size:1
                                           ;@delay_ms T2CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T2LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T2DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T3CR                      Allocated to registers ;size:1
                                           ;@delay_ms T3CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T3LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms PWM0DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM1DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM2DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCMR                     Allocated to registers ;size:1
                                           ;@delay_ms LVDCR                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR0                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR1                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR2                     Allocated to registers ;size:1
                                           ;@delay_ms OSADJCR                   Allocated to registers ;size:1
                                           ;@delay_ms ADRH                      Allocated to registers ;size:1
                                           ;@delay_ms ADRL                      Allocated to registers ;size:1
                                           ;@delay_ms P0ADCR                    Allocated to registers ;size:1
                                           ;@delay_ms P1ADCR                    Allocated to registers ;size:1
                                           ;@delay_ms IOP2                      Allocated to registers ;size:1
                                           ;@delay_ms OEP2                      Allocated to registers ;size:1
                                           ;@delay_ms PUP2                      Allocated to registers ;size:1
                                           ;@delay_ms PDP2                      Allocated to registers ;size:1
                                           ;@delay_ms PMOD                      Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCCR                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCCAL                   Allocated to registers ;size:1
                                           ;@delay_ms EECR                      Allocated to registers ;size:1
                                           ;@delay_ms EEPR                      Allocated to registers ;size:1
                                           ;@delay_ms EEAR                      Allocated to registers ;size:1
                                           ;@delay_ms EEDRH                     Allocated to registers ;size:1
                                           ;@delay_ms EEDRL                     Allocated to registers ;size:1
                                           ;@delay_ms DBGCR                     Allocated to registers ;size:1
                                           ;@delay_ms DBGPR                     Allocated to registers ;size:1
                                           ;@delay_ms HIRCCAL                   Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'timer1_config'
                                           ;@end Allocation info for local variables in function 'timer1_config';
                                           ;@Allocation info for local variables in function 'timer2_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer2_pwm_config';
                                           ;@Allocation info for local variables in function 'timer2_pwm_set_feq'
                                           ;@end Allocation info for local variables in function 'timer2_pwm_set_feq';
                                           ;@Allocation info for local variables in function 'adc_config'
                                           ;@end Allocation info for local variables in function 'adc_config';
                                           ;@Allocation info for local variables in function 'adc_sel_pin'
                                           ;@adc_sel_pin adc_pin                   Allocated to registers r0x1022 ;size:1
                                           ;@end Allocation info for local variables in function 'adc_sel_pin';
                                           ;@Allocation info for local variables in function 'adc_getval'
                                           ;@adc_getval adc_val_tmp               Allocated to registers r0x1017 r0x1018 ;size:2
                                           ;@adc_getval adc_val_sum               Allocated to registers r0x1017 r0x1018 r0x101E r0x1020 ;size:4
                                           ;@adc_getval get_adcmax                Allocated to registers r0x1017 r0x1018 ;size:2
                                           ;@adc_getval get_adcmin                Allocated to registers r0x1019 r0x101A ;size:2
                                           ;@adc_getval i                         Allocated to registers r0x101B ;size:1
                                           ;@end Allocation info for local variables in function 'adc_getval';
                                           ;@Allocation info for local variables in function 'sys_init'
                                           ;@end Allocation info for local variables in function 'sys_init';
                                           ;@Allocation info for local variables in function 'ir_handle'
                                           ;@ir_handle last_ir_data              Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'ir_handle';
                                           ;@Allocation info for local variables in function 'ir_handle'
                                           ;@ir_handle last_ir_data              Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'ir_handle';
                                           ;@Allocation info for local variables in function 'bat_discharge_handle'
                                           ;@end Allocation info for local variables in function 'bat_discharge_handle';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@int_isr ir_level_cnt              Allocated to registers ;size:2
                                           ;@int_isr __ir_data                 Allocated to registers ;size:4
                                           ;@int_isr cnt                       Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   a0ce     goto    0xce             	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;2 compiler assigned registers:
                                           ;   r0x1023
                                           ;   r0x1024
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	285; "MC32F7361.c"	__endasm;
                                           	;
000008   562c     movra   0x2c             	movra	_abuf;
000009   4587     swapar  0x187            	swapar	_PFLAG;
00000a   562d     movra   0x2d             	movra	_statusbuf;
                                           	
                                           ;	.line	287; "MC32F7361.c"	if (T1IF & T1IE) // 定时器1 中断，100us
00000b   761e     clrr    0x1e             	CLRR	r0x1023
00000c   f38b     jbclr   0x18b, 0x1       	JBCLR	_INTFbits,1
00000d   661e     incr    0x1e             	INCR	r0x1023
00000e   761f     clrr    0x1f             	CLRR	r0x1024
00000f   f38a     jbclr   0x18a, 0x1       	JBCLR	_INTEbits,1
000010   661f     incr    0x1f             	INCR	r0x1024
000011   581f     movar   0x1f             	MOVAR	r0x1024
000012   7a1e     andra   0x1e             	ANDRA	r0x1023
000013   3c00     movai   0                	MOVAI	0x00
000014   5c1e     orar    0x1e             	ORAR	r0x1023
000015   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000016   a0bc     goto    0xbc             	GOTO	_00356_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x515=1301), size=2
                                           ;	.line	300; "MC32F7361.c"	if (ir_level_cnt <= 1300)
000017   3c05     movai   0x5              	MOVAI	0x05
000018   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
000019   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00001a   a01d     goto    0x1d             	GOTO	_00449_DS_
00001b   3c15     movai   0x15             	MOVAI	0x15
00001c   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00449_DS_
00001d   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00001e   a022     goto    0x22             	GOTO	_00309_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	301; "MC32F7361.c"	ir_level_cnt++;
00001f   6621     incr    0x21             	INCR	_int_isr_ir_level_cnt_196608_44
000020   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000021   6622     incr    0x22             	INCR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           _00309_DS_
                                           ;	.line	317; "MC32F7361.c"	if (IR_RECV_PIN)
000022   e794     jbset   0x194, 0x3       	JBSET	_IOP1bits,3
000023   a040     goto    0x40             	GOTO	_00338_DS_
                                           ;	.line	319; "MC32F7361.c"	last_level_in_ir_pin = 1; // 表示接收到的是高电平
000024   c22e     bset    0x2e, 0x1        	BSET	_flag1,1
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x4B1=1201), size=2
                                           ;	.line	322; "MC32F7361.c"	if (ir_level_cnt > 1200) // 超时时间(120000us,120ms)
000025   3c04     movai   0x4              	MOVAI	0x04
000026   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
000027   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000028   a02b     goto    0x2b             	GOTO	_00450_DS_
000029   3cb1     movai   0xb1             	MOVAI	0xb1
00002a   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00450_DS_
00002b   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00002c   a091     goto    0x91             	GOTO	_00339_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	325; "MC32F7361.c"	if (__ir_data != 0) // 超时，且接收到数据(现在是在中断服务函数中把__ir_data自动清零)
00002d   5823     movar   0x23             	MOVAR	_int_isr___ir_data_196608_44
00002e   5c24     orar    0x24             	ORAR	(_int_isr___ir_data_196608_44 + 1)
00002f   5c25     orar    0x25             	ORAR	(_int_isr___ir_data_196608_44 + 2)
000030   5c26     orar    0x26             	ORAR	(_int_isr___ir_data_196608_44 + 3)
000031   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000032   a03e     goto    0x3e             	GOTO	_00313_DS_
                                           ;	.line	334; "MC32F7361.c"	if (0 == flag_is_recved_data)
000033   f02e     jbclr   0x2e, 0          	JBCLR	_flag1,0
000034   a03e     goto    0x3e             	GOTO	_00313_DS_
                                           ;	.line	338; "MC32F7361.c"	ir_data = ~__ir_data;
000035   5823     movar   0x23             	MOVAR	_int_isr___ir_data_196608_44
000036   561e     movra   0x1e             	MOVRA	r0x1023
000037   701e     comar   0x1e             	COMAR	r0x1023
000038   562b     movra   0x2b             	MOVRA	_ir_data
                                           ;	.line	339; "MC32F7361.c"	__ir_data = 0;
000039   7623     clrr    0x23             	CLRR	_int_isr___ir_data_196608_44
00003a   7624     clrr    0x24             	CLRR	(_int_isr___ir_data_196608_44 + 1)
00003b   7625     clrr    0x25             	CLRR	(_int_isr___ir_data_196608_44 + 2)
00003c   7626     clrr    0x26             	CLRR	(_int_isr___ir_data_196608_44 + 3)
                                           ;	.line	340; "MC32F7361.c"	flag_is_recved_data = 1;
00003d   c02e     bset    0x2e, 0          	BSET	_flag1,0
                                           _00313_DS_
                                           ;	.line	345; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 0; // 认为遥控器按键已经按下，然后松开
00003e   d42e     bclr    0x2e, 0x2        	BCLR	_flag1,2
00003f   a091     goto    0x91             	GOTO	_00339_DS_
                                           _00338_DS_
                                           ;	.line	350; "MC32F7361.c"	if (last_level_in_ir_pin)
000040   e22e     jbset   0x2e, 0x1        	JBSET	_flag1,1
000041   a090     goto    0x90             	GOTO	_00336_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x9=9), size=2
                                           ;	.line	353; "MC32F7361.c"	if (ir_level_cnt <= 8) // 小于800us，说明接收到无效的数据，重新接收
000042   3c00     movai   0                	MOVAI	0x00
000043   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
000044   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000045   a048     goto    0x48             	GOTO	_00451_DS_
000046   3c09     movai   0x9              	MOVAI	0x09
000047   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00451_DS_
000048   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000049   a04c     goto    0x4c             	GOTO	_00333_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	356; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 0;
00004a   d42e     bclr    0x2e, 0x2        	BCLR	_flag1,2
00004b   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x13=19), size=2
                                           _00333_DS_
                                           ;	.line	358; "MC32F7361.c"	else if (ir_level_cnt <= 18) // 小于1800us,说明接收到了逻辑0
00004c   3c00     movai   0                	MOVAI	0x00
00004d   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
00004e   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00004f   a052     goto    0x52             	GOTO	_00452_DS_
000050   3c13     movai   0x13             	MOVAI	0x13
000051   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00452_DS_
000052   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000053   a05a     goto    0x5a             	GOTO	_00330_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	360; "MC32F7361.c"	__ir_data <<= 1;
000054   d187     bclr    0x187, 0         	BCLR	PFLAG,0
000055   5223     rlr     0x23             	RLR	_int_isr___ir_data_196608_44
000056   5224     rlr     0x24             	RLR	(_int_isr___ir_data_196608_44 + 1)
000057   5225     rlr     0x25             	RLR	(_int_isr___ir_data_196608_44 + 2)
000058   5226     rlr     0x26             	RLR	(_int_isr___ir_data_196608_44 + 3)
000059   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x1B=27), size=2
                                           _00330_DS_
                                           ;	.line	365; "MC32F7361.c"	else if (ir_level_cnt <= 26) // 小于2600us,说明接收到了逻辑1
00005a   3c00     movai   0                	MOVAI	0x00
00005b   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
00005c   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00005d   a060     goto    0x60             	GOTO	_00453_DS_
00005e   3c1b     movai   0x1b             	MOVAI	0x1b
00005f   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00453_DS_
000060   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000061   a069     goto    0x69             	GOTO	_00327_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	367; "MC32F7361.c"	__ir_data <<= 1;
000062   d187     bclr    0x187, 0         	BCLR	PFLAG,0
000063   5223     rlr     0x23             	RLR	_int_isr___ir_data_196608_44
000064   5224     rlr     0x24             	RLR	(_int_isr___ir_data_196608_44 + 1)
000065   5225     rlr     0x25             	RLR	(_int_isr___ir_data_196608_44 + 2)
000066   5226     rlr     0x26             	RLR	(_int_isr___ir_data_196608_44 + 3)
                                           ;	.line	368; "MC32F7361.c"	__ir_data |= 0x01;
000067   c023     bset    0x23, 0          	BSET	_int_isr___ir_data_196608_44,0
000068   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x97=151), size=2
                                           _00327_DS_
                                           ;	.line	372; "MC32F7361.c"	else if (ir_level_cnt <= 150) // 小于15000us,说明接收到了格式头
000069   3c00     movai   0                	MOVAI	0x00
00006a   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
00006b   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00006c   a06f     goto    0x6f             	GOTO	_00454_DS_
00006d   3c97     movai   0x97             	MOVAI	0x97
00006e   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00454_DS_
00006f   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000070   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x1A5=421), size=2
                                           ;	.line	377; "MC32F7361.c"	else if (ir_level_cnt <= 420) // 小于42ms,说明接收完一次完整的红外信号
000071   3c01     movai   0x1              	MOVAI	0x01
000072   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
000073   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000074   a077     goto    0x77             	GOTO	_00455_DS_
000075   3ca5     movai   0xa5             	MOVAI	0xa5
000076   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00455_DS_
000077   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000078   a085     goto    0x85             	GOTO	_00321_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	390; "MC32F7361.c"	if (0 == flag_is_recved_data) // 如果之前未接收到数据/接收到的数据已经处理完毕
000079   f02e     jbclr   0x2e, 0          	JBCLR	_flag1,0
00007a   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;	.line	394; "MC32F7361.c"	ir_data = ~__ir_data;
00007b   5823     movar   0x23             	MOVAR	_int_isr___ir_data_196608_44
00007c   561e     movra   0x1e             	MOVRA	r0x1023
00007d   701e     comar   0x1e             	COMAR	r0x1023
00007e   562b     movra   0x2b             	MOVRA	_ir_data
                                           ;	.line	395; "MC32F7361.c"	__ir_data = 0;
00007f   7623     clrr    0x23             	CLRR	_int_isr___ir_data_196608_44
000080   7624     clrr    0x24             	CLRR	(_int_isr___ir_data_196608_44 + 1)
000081   7625     clrr    0x25             	CLRR	(_int_isr___ir_data_196608_44 + 2)
000082   7626     clrr    0x26             	CLRR	(_int_isr___ir_data_196608_44 + 3)
                                           ;	.line	396; "MC32F7361.c"	flag_is_recved_data = 1;
000083   c02e     bset    0x2e, 0          	BSET	_flag1,0
000084   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x4B1=1201), size=2
                                           _00321_DS_
                                           ;	.line	403; "MC32F7361.c"	else if (ir_level_cnt <= 1200) // 小于120000,120ms,说明接收到了重复码
000085   3c04     movai   0x4              	MOVAI	0x04
000086   4822     rsubar  0x22             	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
000087   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000088   a08b     goto    0x8b             	GOTO	_00456_DS_
000089   3cb1     movai   0xb1             	MOVAI	0xb1
00008a   4821     rsubar  0x21             	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00456_DS_
00008b   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00008c   a08e     goto    0x8e             	GOTO	_00334_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	408; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 1;
00008d   c42e     bset    0x2e, 0x2        	BSET	_flag1,2
                                           _00334_DS_
                                           ;	.line	414; "MC32F7361.c"	ir_level_cnt = 0;
00008e   7621     clrr    0x21             	CLRR	_int_isr_ir_level_cnt_196608_44
00008f   7622     clrr    0x22             	CLRR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           _00336_DS_
                                           ;	.line	417; "MC32F7361.c"	last_level_in_ir_pin = 0; // 表示接收到的是低电平
000090   d22e     bclr    0x2e, 0x1        	BCLR	_flag1,1
                                           _00339_DS_
                                           ;	.line	425; "MC32F7361.c"	cnt++;
000091   6627     incr    0x27             	INCR	_int_isr_cnt_196608_60
000092   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000093   6628     incr    0x28             	INCR	(_int_isr_cnt_196608_60 + 1)
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x15=21), size=2
                                           ;	.line	427; "MC32F7361.c"	if (cnt <= 20) // 20 * 100us
000094   3c00     movai   0                	MOVAI	0x00
000095   4828     rsubar  0x28             	RSUBAR	(_int_isr_cnt_196608_60 + 1)
000096   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000097   a09a     goto    0x9a             	GOTO	_00457_DS_
000098   3c15     movai   0x15             	MOVAI	0x15
000099   4827     rsubar  0x27             	RSUBAR	_int_isr_cnt_196608_60
                                           _00457_DS_
00009a   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00009b   a0ac     goto    0xac             	GOTO	_00351_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	429; "MC32F7361.c"	if (flag_is_led_1_enable)
00009c   e02f     jbset   0x2f, 0          	JBSET	_flag2,0
00009d   a09f     goto    0x9f             	GOTO	_00341_DS_
                                           ;	.line	431; "MC32F7361.c"	LED_1_PIN = LED_ON_LEVEL;
00009e   c794     bset    0x194, 0x3       	BSET	_IOP1bits,3
                                           _00341_DS_
                                           ;	.line	434; "MC32F7361.c"	if (flag_is_led_2_enable)
00009f   e22f     jbset   0x2f, 0x1        	JBSET	_flag2,1
0000a0   a0a2     goto    0xa2             	GOTO	_00343_DS_
                                           ;	.line	436; "MC32F7361.c"	LED_2_PIN = LED_ON_LEVEL;
0000a1   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           _00343_DS_
                                           ;	.line	439; "MC32F7361.c"	if (flag_is_led_3_enable)
0000a2   e42f     jbset   0x2f, 0x2        	JBSET	_flag2,2
0000a3   a0a5     goto    0xa5             	GOTO	_00345_DS_
                                           ;	.line	441; "MC32F7361.c"	LED_3_PIN = LED_ON_LEVEL;
0000a4   c190     bset    0x190, 0         	BSET	_IOP0bits,0
                                           _00345_DS_
                                           ;	.line	444; "MC32F7361.c"	if (flag_is_led_4_enable)
0000a5   e62f     jbset   0x2f, 0x3        	JBSET	_flag2,3
0000a6   a0a8     goto    0xa8             	GOTO	_00347_DS_
                                           ;	.line	446; "MC32F7361.c"	LED_4_PIN = LED_ON_LEVEL;
0000a7   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           _00347_DS_
                                           ;	.line	449; "MC32F7361.c"	if (flag_is_led_5_enable)
0000a8   e82f     jbset   0x2f, 0x4        	JBSET	_flag2,4
0000a9   a0b1     goto    0xb1             	GOTO	_00352_DS_
                                           ;	.line	451; "MC32F7361.c"	LED_5_PIN = LED_ON_LEVEL;
0000aa   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
0000ab   a0b1     goto    0xb1             	GOTO	_00352_DS_
                                           _00351_DS_
                                           ;	.line	456; "MC32F7361.c"	LED_1_PIN = LED_OFF_LEVEL;
0000ac   d794     bclr    0x194, 0x3       	BCLR	_IOP1bits,3
                                           ;	.line	457; "MC32F7361.c"	LED_2_PIN = LED_OFF_LEVEL;
0000ad   d994     bclr    0x194, 0x4       	BCLR	_IOP1bits,4
                                           ;	.line	458; "MC32F7361.c"	LED_3_PIN = LED_OFF_LEVEL;
0000ae   d190     bclr    0x190, 0         	BCLR	_IOP0bits,0
                                           ;	.line	459; "MC32F7361.c"	LED_4_PIN = LED_OFF_LEVEL;
0000af   d790     bclr    0x190, 0x3       	BCLR	_IOP0bits,3
                                           ;	.line	460; "MC32F7361.c"	LED_5_PIN = LED_OFF_LEVEL;
0000b0   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
                                           ;;unsigned compare: left < lit(0x64=100), size=2
                                           _00352_DS_
                                           ;	.line	463; "MC32F7361.c"	if (cnt >= 100) // 100 * 100us
0000b1   3c00     movai   0                	MOVAI	0x00
0000b2   4828     rsubar  0x28             	RSUBAR	(_int_isr_cnt_196608_60 + 1)
0000b3   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000b4   a0b7     goto    0xb7             	GOTO	_00458_DS_
0000b5   3c64     movai   0x64             	MOVAI	0x64
0000b6   4827     rsubar  0x27             	RSUBAR	_int_isr_cnt_196608_60
                                           _00458_DS_
0000b7   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0000b8   a0bb     goto    0xbb             	GOTO	_00354_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	465; "MC32F7361.c"	cnt = 0;
0000b9   7627     clrr    0x27             	CLRR	_int_isr_cnt_196608_60
0000ba   7628     clrr    0x28             	CLRR	(_int_isr_cnt_196608_60 + 1)
                                           _00354_DS_
                                           ;	.line	471; "MC32F7361.c"	T1IF = 0;
0000bb   d38b     bclr    0x18b, 0x1       	BCLR	_INTFbits,1
                                           _00356_DS_
                                           ;	.line	475; "MC32F7361.c"	if (T3IF & T3IE)
0000bc   761e     clrr    0x1e             	CLRR	r0x1023
0000bd   ff8b     jbclr   0x18b, 0x7       	JBCLR	_INTFbits,7
0000be   661e     incr    0x1e             	INCR	r0x1023
0000bf   761f     clrr    0x1f             	CLRR	r0x1024
0000c0   ff8a     jbclr   0x18a, 0x7       	JBCLR	_INTEbits,7
0000c1   661f     incr    0x1f             	INCR	r0x1024
0000c2   581f     movar   0x1f             	MOVAR	r0x1024
0000c3   7a1e     andra   0x1e             	ANDRA	r0x1023
0000c4   3c00     movai   0                	MOVAI	0x00
0000c5   5c1e     orar    0x1e             	ORAR	r0x1023
0000c6   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0000c7   a0c9     goto    0xc9             	GOTO	_00358_DS_
                                           ;	.line	478; "MC32F7361.c"	T3IF = 0;
0000c8   df8b     bclr    0x18b, 0x7       	BCLR	_INTFbits,7
                                           _00358_DS_
                                           ;	.line	485; "MC32F7361.c"	__endasm;
                                           	;
0000c9   442d     swapar  0x2d             	swapar	_statusbuf;
0000ca   5787     movra   0x187            	movra	_PFLAG;
0000cb   462c     swapr   0x2c             	swapr	_abuf;
0000cc   442c     swapar  0x2c             	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	486; "MC32F7361.c"	}
0000cd   000d     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC32F7361	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _sys_init
                                           ;   _timer2_pwm_set_feq
                                           ;   _sys_init
                                           ;   _timer2_pwm_set_feq
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	269; "MC32F7361.c"	sys_init();
0000ce   810e     call    0x10e            	CALL	_sys_init
                                           ;	.line	272; "MC32F7361.c"	timer2_pwm_set_feq();
0000cf   81d5     call    0x1d5            	CALL	_timer2_pwm_set_feq
                                           _00303_DS_
                                           ;	.line	274; "MC32F7361.c"	while (1)
0000d0   a0d0     goto    0xd0             	GOTO	_00303_DS_
                                           ;	.line	277; "MC32F7361.c"	}
0000d1   000c     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _bat_discharge_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _bat_discharge_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	265; "MC32F7361.c"	}
0000d2   000c     return                   	RETURN	
                                           ; exit point of _bat_discharge_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _ir_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x1012
                                           ;; Starting pCode block
                                           _ir_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	181; "MC32F7361.c"	if (flag_is_recved_data || flag_is_recv_ir_repeat_code)
0000d3   f02e     jbclr   0x2e, 0          	JBCLR	_flag1,0
0000d4   a0d7     goto    0xd7             	GOTO	_00231_DS_
0000d5   e42e     jbset   0x2e, 0x2        	JBSET	_flag1,2
0000d6   a10d     goto    0x10d            	GOTO	_00234_DS_
                                           _00231_DS_
                                           ;	.line	189; "MC32F7361.c"	if (flag_is_recv_ir_repeat_code)
0000d7   e42e     jbset   0x2e, 0x2        	JBSET	_flag1,2
0000d8   a0db     goto    0xdb             	GOTO	_00214_DS_
                                           ;	.line	193; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 0;
0000d9   d42e     bclr    0x2e, 0x2        	BCLR	_flag1,2
                                           ;	.line	194; "MC32F7361.c"	return;
0000da   a10d     goto    0x10d            	GOTO	_00234_DS_
                                           _00214_DS_
                                           ;	.line	198; "MC32F7361.c"	switch (ir_data)
0000db   582b     movar   0x2b             	MOVAR	_ir_data
0000dc   561d     movra   0x1d             	MOVRA	r0x1012
0000dd   581d     movar   0x1d             	MOVAR	r0x1012
0000de   3902     xorai   0x2              	XORAI	0x02
0000df   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000e0   a0e2     goto    0xe2             	GOTO	_00285_DS_
0000e1   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00285_DS_
0000e2   581d     movar   0x1d             	MOVAR	r0x1012
0000e3   3918     xorai   0x18             	XORAI	0x18
0000e4   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000e5   a0e7     goto    0xe7             	GOTO	_00286_DS_
0000e6   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00286_DS_
0000e7   581d     movar   0x1d             	MOVAR	r0x1012
0000e8   3922     xorai   0x22             	XORAI	0x22
0000e9   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000ea   a0ec     goto    0xec             	GOTO	_00287_DS_
0000eb   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00287_DS_
0000ec   581d     movar   0x1d             	MOVAR	r0x1012
0000ed   3930     xorai   0x30             	XORAI	0x30
0000ee   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000ef   a0f1     goto    0xf1             	GOTO	_00288_DS_
0000f0   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00288_DS_
0000f1   581d     movar   0x1d             	MOVAR	r0x1012
0000f2   3962     xorai   0x62             	XORAI	0x62
0000f3   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000f4   a0f6     goto    0xf6             	GOTO	_00289_DS_
0000f5   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00289_DS_
0000f6   581d     movar   0x1d             	MOVAR	r0x1012
0000f7   3968     xorai   0x68             	XORAI	0x68
0000f8   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000f9   a0fb     goto    0xfb             	GOTO	_00290_DS_
0000fa   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00290_DS_
0000fb   581d     movar   0x1d             	MOVAR	r0x1012
0000fc   3990     xorai   0x90             	XORAI	0x90
0000fd   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000fe   a100     goto    0x100            	GOTO	_00291_DS_
0000ff   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00291_DS_
000100   581d     movar   0x1d             	MOVAR	r0x1012
000101   3998     xorai   0x98             	XORAI	0x98
000102   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000103   a105     goto    0x105            	GOTO	_00292_DS_
000104   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00292_DS_
000105   581d     movar   0x1d             	MOVAR	r0x1012
000106   39a2     xorai   0xa2             	XORAI	0xa2
000107   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000108   a109     goto    0x109            	GOTO	_00230_DS_
                                           _00230_DS_
                                           ;	.line	255; "MC32F7361.c"	last_ir_data = ir_data;
000109   582b     movar   0x2b             	MOVAR	_ir_data
00010a   5620     movra   0x20             	MOVRA	_ir_handle_last_ir_data_131072_32
                                           ;	.line	256; "MC32F7361.c"	ir_data = 0;
00010b   762b     clrr    0x2b             	CLRR	_ir_data
                                           ;	.line	257; "MC32F7361.c"	flag_is_recved_data = 0;
00010c   d02e     bclr    0x2e, 0          	BCLR	_flag1,0
                                           _00234_DS_
                                           ;	.line	259; "MC32F7361.c"	}
00010d   000c     return                   	RETURN	
                                           ; exit point of _ir_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sys_init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer1_config
                                           ;   _timer2_pwm_config
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer1_config
                                           ;   _timer2_pwm_config
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _sys_init	;Function start
                                           ; 2 exit points
                                           ;	.line	164; "MC32F7361.c"	GIE = 0;
00010e   df88     bclr    0x188, 0x7       	BCLR	_MCRbits,7
                                           ;	.line	165; "MC32F7361.c"	CLR_RAM();
00010f   8200     call    0x200            	CALL	_CLR_RAM
                                           ;	.line	166; "MC32F7361.c"	IO_Init();
000110   81eb     call    0x1eb            	CALL	_IO_Init
                                           ;	.line	167; "MC32F7361.c"	timer1_config();
000111   81e6     call    0x1e6            	CALL	_timer1_config
                                           ;	.line	168; "MC32F7361.c"	timer2_pwm_config();
000112   81de     call    0x1de            	CALL	_timer2_pwm_config
                                           ;	.line	170; "MC32F7361.c"	adc_config();
000113   81ca     call    0x1ca            	CALL	_adc_config
                                           ;	.line	172; "MC32F7361.c"	INTE |= (0x01 << 1); // 使能 timer1中断
000114   c38a     bset    0x18a, 0x1       	BSET	_INTE,1
                                           ;	.line	174; "MC32F7361.c"	delay_ms(1); // 等待系统稳定
000115   3c01     movai   0x1              	MOVAI	0x01
000116   5606     movra   0x6              	MOVRA	STK00
000117   3c00     movai   0                	MOVAI	0x00
000118   820c     call    0x20c            	CALL	_delay_ms
                                           ;	.line	175; "MC32F7361.c"	GIE = 1;
000119   cf88     bset    0x188, 0x7       	BSET	_MCRbits,7
                                           ;	.line	176; "MC32F7361.c"	}
00011a   000c     return                   	RETURN	
                                           ; exit point of _sys_init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_getval	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;16 compiler assigned registers:
                                           ;   r0x1013
                                           ;   r0x1014
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;   r0x101E
                                           ;   r0x101F
                                           ;   r0x1020
                                           ;   r0x1021
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_getval	;Function start
                                           ; 2 exit points
                                           ;	.line	135; "MC32F7361.c"	u32 adc_val_sum = 0;     // 存放所有采集到的ad值的累加
00011b   760e     clrr    0xe              	CLRR	r0x1013
00011c   760f     clrr    0xf              	CLRR	r0x1014
00011d   7610     clrr    0x10             	CLRR	r0x1015
00011e   7611     clrr    0x11             	CLRR	r0x1016
                                           ;	.line	136; "MC32F7361.c"	u16 get_adcmax = 0;      // 存放采集到的最大的ad值
00011f   7612     clrr    0x12             	CLRR	r0x1017
000120   7613     clrr    0x13             	CLRR	r0x1018
                                           ;	.line	137; "MC32F7361.c"	u16 get_adcmin = 0xFFFF; // 存放采集到的最小的ad值(初始值为最大值)
000121   3cff     movai   0xff             	MOVAI	0xff
000122   5614     movra   0x14             	MOVRA	r0x1019
000123   5615     movra   0x15             	MOVRA	r0x101A
                                           ;	.line	139; "MC32F7361.c"	for (i = 0; i < 20; i++)
000124   7616     clrr    0x16             	CLRR	r0x101B
                                           _00163_DS_
                                           ;	.line	141; "MC32F7361.c"	ADEOC = 0; // 写0开始转换
000125   d3b0     bclr    0x1b0, 0x1       	BCLR	_ADCR0bits,1
                                           _00152_DS_
                                           ;	.line	142; "MC32F7361.c"	while (!ADEOC)
000126   e3b0     jbset   0x1b0, 0x1       	JBSET	_ADCR0bits,1
000127   a126     goto    0x126            	GOTO	_00152_DS_
                                           ;	.line	144; "MC32F7361.c"	adc_val_tmp = ADRH << 4 | (ADRL & 0x0F);
000128   59b4     movar   0x1b4            	MOVAR	_ADRH
000129   5617     movra   0x17             	MOVRA	r0x101C
00012a   7618     clrr    0x18             	CLRR	r0x101D
00012b   4418     swapar  0x18             	SWAPAR	r0x101D
00012c   3ef0     andai   0xf0             	ANDAI	0xf0
00012d   561a     movra   0x1a             	MOVRA	r0x101E
00012e   4417     swapar  0x17             	SWAPAR	r0x101C
00012f   5619     movra   0x19             	MOVRA	r0x101F
000130   3e0f     andai   0xf              	ANDAI	0x0f
000131   5e1a     orra    0x1a             	ORRA	r0x101E
000132   4219     xorra   0x19             	XORRA	r0x101F
000133   59b5     movar   0x1b5            	MOVAR	_ADRL
000134   5617     movra   0x17             	MOVRA	r0x101C
000135   7618     clrr    0x18             	CLRR	r0x101D
000136   3c0f     movai   0xf              	MOVAI	0x0f
000137   7a17     andra   0x17             	ANDRA	r0x101C
000138   7618     clrr    0x18             	CLRR	r0x101D
000139   5819     movar   0x19             	MOVAR	r0x101F
00013a   5e17     orra    0x17             	ORRA	r0x101C
00013b   581a     movar   0x1a             	MOVAR	r0x101E
00013c   5e18     orra    0x18             	ORRA	r0x101D
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	146; "MC32F7361.c"	if (i < 2)
00013d   3c02     movai   0x2              	MOVAI	0x02
00013e   4816     rsubar  0x16             	RSUBAR	r0x101B
00013f   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000140   a16b     goto    0x16b            	GOTO	_00161_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	148; "MC32F7361.c"	if (adc_val_tmp > get_adcmax)
000141   5818     movar   0x18             	MOVAR	r0x101D
000142   4813     rsubar  0x13             	RSUBAR	r0x1018
000143   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000144   a147     goto    0x147            	GOTO	_00203_DS_
000145   5817     movar   0x17             	MOVAR	r0x101C
000146   4812     rsubar  0x12             	RSUBAR	r0x1017
                                           _00203_DS_
000147   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000148   a14d     goto    0x14d            	GOTO	_00158_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	149; "MC32F7361.c"	get_adcmax = adc_val_tmp; // 更新当前采集到的最大值
000149   5817     movar   0x17             	MOVAR	r0x101C
00014a   5612     movra   0x12             	MOVRA	r0x1017
00014b   5818     movar   0x18             	MOVAR	r0x101D
00014c   5613     movra   0x13             	MOVRA	r0x1018
                                           _00158_DS_
                                           ;	.line	150; "MC32F7361.c"	if (adc_val_tmp < get_adcmin)
00014d   5815     movar   0x15             	MOVAR	r0x101A
00014e   4818     rsubar  0x18             	RSUBAR	r0x101D
00014f   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000150   a153     goto    0x153            	GOTO	_00204_DS_
000151   5814     movar   0x14             	MOVAR	r0x1019
000152   4817     rsubar  0x17             	RSUBAR	r0x101C
                                           _00204_DS_
000153   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000154   a159     goto    0x159            	GOTO	_00160_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	151; "MC32F7361.c"	get_adcmin = adc_val_tmp; // 更新当前采集到的最小值
000155   5817     movar   0x17             	MOVAR	r0x101C
000156   5614     movra   0x14             	MOVRA	r0x1019
000157   5818     movar   0x18             	MOVAR	r0x101D
000158   5615     movra   0x15             	MOVRA	r0x101A
                                           ;;110	MOVAR	r0x101C
                                           ;;112	MOVAR	r0x101D
                                           _00160_DS_
                                           ;	.line	152; "MC32F7361.c"	adc_val_sum += adc_val_tmp;
000159   761b     clrr    0x1b             	CLRR	r0x1020
00015a   761c     clrr    0x1c             	CLRR	r0x1021
                                           ;;109	MOVAR	r0x101F
00015b   5817     movar   0x17             	MOVAR	r0x101C
00015c   5619     movra   0x19             	MOVRA	r0x101F
00015d   7e0e     addra   0xe              	ADDRA	r0x1013
                                           ;;111	MOVAR	r0x101E
00015e   5818     movar   0x18             	MOVAR	r0x101D
00015f   561a     movra   0x1a             	MOVRA	r0x101E
000160   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000161   601a     jzar    0x1a             	JZAR	r0x101E
000162   7e0f     addra   0xf              	ADDRA	r0x1014
000163   581b     movar   0x1b             	MOVAR	r0x1020
000164   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000165   601b     jzar    0x1b             	JZAR	r0x1020
000166   7e10     addra   0x10             	ADDRA	r0x1015
000167   581c     movar   0x1c             	MOVAR	r0x1021
000168   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000169   601c     jzar    0x1c             	JZAR	r0x1021
00016a   7e11     addra   0x11             	ADDRA	r0x1016
                                           _00161_DS_
                                           ;	.line	139; "MC32F7361.c"	for (i = 0; i < 20; i++)
00016b   6616     incr    0x16             	INCR	r0x101B
                                           ;;unsigned compare: left < lit(0x14=20), size=1
00016c   3c14     movai   0x14             	MOVAI	0x14
00016d   4816     rsubar  0x16             	RSUBAR	r0x101B
00016e   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00016f   a125     goto    0x125            	GOTO	_00163_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;108	MOVAR	r0x1017
                                           ;	.line	155; "MC32F7361.c"	adc_val_sum -= get_adcmax;        // 去掉一个最大
000170   5813     movar   0x13             	MOVAR	r0x1018
000171   5617     movra   0x17             	MOVRA	r0x101C
000172   7618     clrr    0x18             	CLRR	r0x101D
000173   7619     clrr    0x19             	CLRR	r0x101F
                                           ;;107	MOVAR	r0x101B
000174   5812     movar   0x12             	MOVAR	r0x1017
000175   5616     movra   0x16             	MOVRA	r0x101B
000176   480e     rsubar  0xe              	RSUBAR	r0x1013
000177   5612     movra   0x12             	MOVRA	r0x1017
000178   580f     movar   0xf              	MOVAR	r0x1014
000179   5613     movra   0x13             	MOVRA	r0x1018
00017a   5817     movar   0x17             	MOVAR	r0x101C
00017b   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00017c   6017     jzar    0x17             	JZAR	r0x101C
00017d   4a13     rsubra  0x13             	RSUBRA	r0x1018
00017e   5810     movar   0x10             	MOVAR	r0x1015
00017f   561a     movra   0x1a             	MOVRA	r0x101E
000180   5818     movar   0x18             	MOVAR	r0x101D
000181   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000182   6018     jzar    0x18             	JZAR	r0x101D
000183   4a1a     rsubra  0x1a             	RSUBRA	r0x101E
000184   5819     movar   0x19             	MOVAR	r0x101F
000185   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000186   6419     incar   0x19             	INCAR	r0x101F
000187   4811     rsubar  0x11             	RSUBAR	r0x1016
000188   561b     movra   0x1b             	MOVRA	r0x1020
                                           ;;100	MOVAR	r0x1019
                                           ;;102	MOVAR	r0x101A
                                           ;	.line	156; "MC32F7361.c"	adc_val_sum -= get_adcmin;        // 去掉一个最小
000189   7610     clrr    0x10             	CLRR	r0x1015
00018a   7611     clrr    0x11             	CLRR	r0x1016
                                           ;;99	MOVAR	r0x1013
00018b   5814     movar   0x14             	MOVAR	r0x1019
00018c   560e     movra   0xe              	MOVRA	r0x1013
00018d   4a12     rsubra  0x12             	RSUBRA	r0x1017
                                           ;;101	MOVAR	r0x1014
00018e   5815     movar   0x15             	MOVAR	r0x101A
00018f   560f     movra   0xf              	MOVRA	r0x1014
000190   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000191   600f     jzar    0xf              	JZAR	r0x1014
000192   4a13     rsubra  0x13             	RSUBRA	r0x1018
000193   5810     movar   0x10             	MOVAR	r0x1015
000194   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000195   6010     jzar    0x10             	JZAR	r0x1015
000196   4a1a     rsubra  0x1a             	RSUBRA	r0x101E
000197   5811     movar   0x11             	MOVAR	r0x1016
000198   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000199   6011     jzar    0x11             	JZAR	r0x1016
00019a   4a1b     rsubra  0x1b             	RSUBRA	r0x1020
                                           ;	.line	157; "MC32F7361.c"	adc_val_tmp = (adc_val_sum >> 4); // 除以16，取平均值
00019b   4412     swapar  0x12             	SWAPAR	r0x1017
00019c   3e0f     andai   0xf              	ANDAI	0x0f
00019d   560e     movra   0xe              	MOVRA	r0x1013
00019e   4413     swapar  0x13             	SWAPAR	r0x1018
00019f   560f     movra   0xf              	MOVRA	r0x1014
0001a0   3ef0     andai   0xf0             	ANDAI	0xf0
0001a1   5e0e     orra    0xe              	ORRA	r0x1013
0001a2   420f     xorra   0xf              	XORRA	r0x1014
0001a3   441a     swapar  0x1a             	SWAPAR	r0x101E
0001a4   5610     movra   0x10             	MOVRA	r0x1015
0001a5   3ef0     andai   0xf0             	ANDAI	0xf0
0001a6   5e0f     orra    0xf              	ORRA	r0x1014
0001a7   4210     xorra   0x10             	XORRA	r0x1015
0001a8   441b     swapar  0x1b             	SWAPAR	r0x1020
0001a9   5611     movra   0x11             	MOVRA	r0x1016
0001aa   3ef0     andai   0xf0             	ANDAI	0xf0
0001ab   5e10     orra    0x10             	ORRA	r0x1015
0001ac   4211     xorra   0x11             	XORRA	r0x1016
                                           ;;104	MOVAR	r0x1013
                                           ;;106	MOVAR	r0x1014
                                           ;;103	MOVAR	r0x1017
                                           ;	.line	159; "MC32F7361.c"	return adc_val_tmp;
0001ad   580e     movar   0xe              	MOVAR	r0x1013
0001ae   5612     movra   0x12             	MOVRA	r0x1017
0001af   5606     movra   0x6              	MOVRA	STK00
                                           ;;105	MOVAR	r0x1018
0001b0   580f     movar   0xf              	MOVAR	r0x1014
0001b1   5613     movra   0x13             	MOVRA	r0x1018
                                           ;	.line	160; "MC32F7361.c"	}
0001b2   000c     return                   	RETURN	
                                           ; exit point of _adc_getval
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;2 compiler assigned registers:
                                           ;   r0x1022
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;	.line	108; "MC32F7361.c"	void adc_sel_pin(u8 adc_pin)
0001b3   560d     movra   0xd              	MOVRA	r0x1022
                                           ;	.line	112; "MC32F7361.c"	if (ADC_PIN_DETECT_CHARGE == adc_pin)
0001b4   580d     movar   0xd              	MOVAR	r0x1022
0001b5   3901     xorai   0x1              	XORAI	0x01
0001b6   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001b7   a1bd     goto    0x1bd            	GOTO	_00146_DS_
                                           ;	.line	114; "MC32F7361.c"	ADCHS3 = 0;
0001b8   dfb0     bclr    0x1b0, 0x7       	BCLR	_ADCR0bits,7
                                           ;	.line	115; "MC32F7361.c"	ADCHS2 = 1;
0001b9   cdb0     bset    0x1b0, 0x6       	BSET	_ADCR0bits,6
                                           ;	.line	116; "MC32F7361.c"	ADCHS1 = 1;
0001ba   cbb0     bset    0x1b0, 0x5       	BSET	_ADCR0bits,5
                                           ;	.line	117; "MC32F7361.c"	ADCHS0 = 1;
0001bb   c9b0     bset    0x1b0, 0x4       	BSET	_ADCR0bits,4
0001bc   a1c5     goto    0x1c5            	GOTO	_00147_DS_
                                           _00146_DS_
                                           ;	.line	119; "MC32F7361.c"	else if (ADC_PIN_DETECT_BATTERY == adc_pin)
0001bd   580d     movar   0xd              	MOVAR	r0x1022
0001be   3902     xorai   0x2              	XORAI	0x02
0001bf   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001c0   a1c5     goto    0x1c5            	GOTO	_00147_DS_
                                           ;	.line	122; "MC32F7361.c"	ADCHS3 = 0;
0001c1   dfb0     bclr    0x1b0, 0x7       	BCLR	_ADCR0bits,7
                                           ;	.line	123; "MC32F7361.c"	ADCHS2 = 1;
0001c2   cdb0     bset    0x1b0, 0x6       	BSET	_ADCR0bits,6
                                           ;	.line	124; "MC32F7361.c"	ADCHS1 = 0;
0001c3   dbb0     bclr    0x1b0, 0x5       	BCLR	_ADCR0bits,5
                                           ;	.line	125; "MC32F7361.c"	ADCHS0 = 0;
0001c4   d9b0     bclr    0x1b0, 0x4       	BCLR	_ADCR0bits,4
                                           _00147_DS_
                                           ;	.line	128; "MC32F7361.c"	delay_ms(1); // 等待adc稳定
0001c5   3c01     movai   0x1              	MOVAI	0x01
0001c6   5606     movra   0x6              	MOVRA	STK00
0001c7   3c00     movai   0                	MOVAI	0x00
0001c8   820c     call    0x20c            	CALL	_delay_ms
                                           ;	.line	129; "MC32F7361.c"	}
0001c9   000c     return                   	RETURN	
                                           ; exit point of _adc_sel_pin
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _adc_config	;Function start
                                           ; 2 exit points
                                           ;	.line	96; "MC32F7361.c"	P12OE = 0; // 输入模式
0001ca   d595     bclr    0x195, 0x2       	BCLR	_OEP1bits,2
                                           ;	.line	97; "MC32F7361.c"	P12DC = 1; // 模拟模式
0001cb   c5b7     bset    0x1b7, 0x2       	BSET	_P1ADCRbits,2
                                           ;	.line	100; "MC32F7361.c"	P05OE = 0; // 输入模式
0001cc   db91     bclr    0x191, 0x5       	BCLR	_OEP0bits,5
                                           ;	.line	101; "MC32F7361.c"	P05DC = 1; // 模拟模式
0001cd   cbb6     bset    0x1b6, 0x5       	BSET	_P0ADCRbits,5
                                           ;	.line	103; "MC32F7361.c"	ADCR0 = 0x0B; // 12位精度，使能adc
0001ce   3c0b     movai   0xb              	MOVAI	0x0b
0001cf   57b0     movra   0x1b0            	MOVRA	_ADCR0
                                           ;	.line	104; "MC32F7361.c"	ADCR1 = 0x80; // adc转换时钟选择 FHIRC/32，使用炔2.0V参考电压
0001d0   3c80     movai   0x80             	MOVAI	0x80
0001d1   57b1     movra   0x1b1            	MOVRA	_ADCR1
                                           ;	.line	105; "MC32F7361.c"	ADCR2 = 0x0F; // 采样时间，只能固定是15 个 ADCLK
0001d2   3c0f     movai   0xf              	MOVAI	0x0f
0001d3   57b2     movra   0x1b2            	MOVRA	_ADCR2
                                           ;	.line	106; "MC32F7361.c"	}
0001d4   000c     return                   	RETURN	
                                           ; exit point of _adc_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer2_pwm_set_feq	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer2_pwm_set_feq	;Function start
                                           ; 2 exit points
                                           ;	.line	82; "MC32F7361.c"	PWMCR1 = (0x01 << 4); // FTMR 选择 FHOSC
0001d5   3c10     movai   0x10             	MOVAI	0x10
0001d6   57ad     movra   0x1ad            	MOVRA	_PWMCR1
                                           ;	.line	84; "MC32F7361.c"	T2CR = (0x01 << 7) | (0x01 << 6) | (0x01 << 3); // 使能定时器，使能PWM, 时钟源选择FTMR，时钟源不分频
0001d7   3cc8     movai   0xc8             	MOVAI	0xc8
0001d8   57a0     movra   0x1a0            	MOVRA	_T2CR
                                           ;	.line	85; "MC32F7361.c"	T2LOAD = 255 - 1;                               //
0001d9   3cfe     movai   0xfe             	MOVAI	0xfe
0001da   57a2     movra   0x1a2            	MOVRA	_T2LOAD
                                           ;	.line	86; "MC32F7361.c"	T2DATA = 255 - 50;                              /* 由于只使用 NPWM 互补PWM，这里占空比计算要用 周期计数值 减去 比较值，才是互补PWM的占空比 */
0001db   3ccd     movai   0xcd             	MOVAI	0xcd
0001dc   57a3     movra   0x1a3            	MOVRA	_T2DATA
                                           ;	.line	87; "MC32F7361.c"	}
0001dd   000c     return                   	RETURN	
                                           ; exit point of _timer2_pwm_set_feq
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	72; "MC32F7361.c"	T2CR = (0x01 << 7) | (0x01 << 6); // 使能定时器，使能PWM, CPU,
0001de   3cc0     movai   0xc0             	MOVAI	0xc0
0001df   57a0     movra   0x1a0            	MOVRA	_T2CR
                                           ;	.line	73; "MC32F7361.c"	T2LOAD = 215 - 1;                 //
0001e0   3cd6     movai   0xd6             	MOVAI	0xd6
0001e1   57a2     movra   0x1a2            	MOVRA	_T2LOAD
                                           ;	.line	74; "MC32F7361.c"	T2DATA = 215 - 38;                /* 由于只使用 NPWM 互补PWM，这里占空比计算要用 周期计数值 减去 比较值，才是互补PWM的占空比 */
0001e2   3cb1     movai   0xb1             	MOVAI	0xb1
0001e3   57a3     movra   0x1a3            	MOVRA	_T2DATA
                                           ;	.line	76; "MC32F7361.c"	PWMCR3 |= (0x01 << 5); // 使能NPWM2输出波形
0001e4   cbbd     bset    0x1bd, 0x5       	BSET	_PWMCR3,5
                                           ;	.line	78; "MC32F7361.c"	}
0001e5   000c     return                   	RETURN	
                                           ; exit point of _timer2_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer1_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer1_config	;Function start
                                           ; 2 exit points
                                           ;	.line	62; "MC32F7361.c"	T1CR |= (0x01 << 7) | (0x01 << 1); // 使能定时器，时钟源选择CPU, 4分频
0001e6   3c82     movai   0x82             	MOVAI	0x82
0001e7   5f9c     orra    0x19c            	ORRA	_T1CR
                                           ;	.line	63; "MC32F7361.c"	T1LOAD = 109 - 1;                  // 100us (从sdk复制过来的会有些误差，这里做了补偿)
0001e8   3c6c     movai   0x6c             	MOVAI	0x6c
0001e9   579e     movra   0x19e            	MOVRA	_T1LOAD
                                           ;	.line	66; "MC32F7361.c"	}
0001ea   000c     return                   	RETURN	
                                           ; exit point of _timer1_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	39; "MC32F7361.c"	IOP0 = 0x00;   // io口数据位
0001eb   7790     clrr    0x190            	CLRR	_IOP0
                                           ;	.line	40; "MC32F7361.c"	OEP0 = 0x3F;   // io口方向 1:out  0:in
0001ec   3c3f     movai   0x3f             	MOVAI	0x3f
0001ed   5791     movra   0x191            	MOVRA	_OEP0
                                           ;	.line	41; "MC32F7361.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
0001ee   7792     clrr    0x192            	CLRR	_PUP0
                                           ;	.line	42; "MC32F7361.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
0001ef   7793     clrr    0x193            	CLRR	_PDP0
                                           ;	.line	43; "MC32F7361.c"	P0ADCR = 0x00; // io类型选择  1:模拟输入  0:通用io
0001f0   77b6     clrr    0x1b6            	CLRR	_P0ADCR
                                           ;	.line	45; "MC32F7361.c"	IOP1 = 0x00;   // io口数据位
0001f1   7794     clrr    0x194            	CLRR	_IOP1
                                           ;	.line	46; "MC32F7361.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
0001f2   3cff     movai   0xff             	MOVAI	0xff
0001f3   5795     movra   0x195            	MOVRA	_OEP1
                                           ;	.line	47; "MC32F7361.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
0001f4   7796     clrr    0x196            	CLRR	_PUP1
                                           ;	.line	48; "MC32F7361.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
0001f5   7797     clrr    0x197            	CLRR	_PDP1
                                           ;	.line	49; "MC32F7361.c"	P1ADCR = 0x00; // io类型选择  1:模拟输入  0:通用io
0001f6   77b7     clrr    0x1b7            	CLRR	_P1ADCR
                                           ;	.line	51; "MC32F7361.c"	IOP2 = 0x00; // io口数据位
0001f7   77b8     clrr    0x1b8            	CLRR	_IOP2
                                           ;	.line	52; "MC32F7361.c"	OEP2 = 0x0F; // io口方向 1:out  0:in
0001f8   3c0f     movai   0xf              	MOVAI	0x0f
0001f9   57b9     movra   0x1b9            	MOVRA	_OEP2
                                           ;	.line	53; "MC32F7361.c"	PUP2 = 0x00; // io口上拉电阻   1:enable  0:disable
0001fa   77ba     clrr    0x1ba            	CLRR	_PUP2
                                           ;	.line	54; "MC32F7361.c"	PDP2 = 0x00; // io口下拉电阻   1:enable  0:disablea
0001fb   77bb     clrr    0x1bb            	CLRR	_PDP2
                                           ;	.line	56; "MC32F7361.c"	PMOD = 0x00;  // P00、P01、P13 io端口值从寄存器读，推挽输出
0001fc   77bc     clrr    0x1bc            	CLRR	_PMOD
                                           ;	.line	57; "MC32F7361.c"	DRVCR = 0x80; // 普通驱动
0001fd   3c80     movai   0x80             	MOVAI	0x80
0001fe   578c     movra   0x18c            	MOVRA	_DRVCR
                                           ;	.line	58; "MC32F7361.c"	}
0001ff   000c     return                   	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	22; "MC32F7361.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
000200   7784     clrr    0x184            	CLRR	_FSR0
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           _00118_DS_
000201   3cff     movai   0xff             	MOVAI	0xff
000202   4984     rsubar  0x184            	RSUBAR	_FSR0
000203   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000204   a208     goto    0x208            	GOTO	_00116_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	24; "MC32F7361.c"	INDF0 = 0x00;
000205   7780     clrr    0x180            	CLRR	_INDF0
                                           ;	.line	22; "MC32F7361.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
000206   6784     incr    0x184            	INCR	_FSR0
000207   a201     goto    0x201            	GOTO	_00118_DS_
                                           _00116_DS_
                                           ;	.line	27; "MC32F7361.c"	FSR0 = 0xFF;
000208   3cff     movai   0xff             	MOVAI	0xff
000209   5784     movra   0x184            	MOVRA	_FSR0
                                           ;	.line	28; "MC32F7361.c"	INDF0 = 0x00;
00020a   7780     clrr    0x180            	CLRR	_INDF0
                                           ;	.line	29; "MC32F7361.c"	}
00020b   000c     return                   	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x100C
                                           ;   STK00
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;   r0x1011
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	232; "user.h"	void delay_ms(u16 xms)
00020c   5608     movra   0x8              	MOVRA	r0x100C
00020d   5806     movar   0x6              	MOVAR	STK00
00020e   5607     movra   0x7              	MOVRA	r0x100D
                                           _00108_DS_
                                           ;	.line	234; "user.h"	while (xms)
00020f   5807     movar   0x7              	MOVAR	r0x100D
000210   5c08     orar    0x8              	ORAR	r0x100C
000211   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000212   a22a     goto    0x22a            	GOTO	_00111_DS_
                                           ;	.line	237; "user.h"	while (i--)
000213   3cfc     movai   0xfc             	MOVAI	0xfc
000214   5609     movra   0x9              	MOVRA	r0x100E
000215   760a     clrr    0xa              	CLRR	r0x100F
                                           _00105_DS_
000216   5809     movar   0x9              	MOVAR	r0x100E
000217   560b     movra   0xb              	MOVRA	r0x1010
000218   580a     movar   0xa              	MOVAR	r0x100F
000219   560c     movra   0xc              	MOVRA	r0x1011
00021a   3cff     movai   0xff             	MOVAI	0xff
00021b   7e09     addra   0x9              	ADDRA	r0x100E
00021c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00021d   6e0a     decr    0xa              	DECR	r0x100F
00021e   580b     movar   0xb              	MOVAR	r0x1010
00021f   5c0c     orar    0xc              	ORAR	r0x1011
000220   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000221   a224     goto    0x224            	GOTO	_00107_DS_
                                           ;	.line	239; "user.h"	Nop();
000222   0000     nop                      	nop	
000223   a216     goto    0x216            	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	241; "user.h"	xms--; // 把 --操作放在while()判断条件外面，更节省空间
000224   3cff     movai   0xff             	MOVAI	0xff
000225   7e07     addra   0x7              	ADDRA	r0x100D
000226   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000227   6e08     decr    0x8              	DECR	r0x100C
                                           ;	.line	245; "user.h"	__endasm;
                                           	;
000228   000e     clrwdt                   	clrwdt;
                                           	
000229   a20f     goto    0x20f            	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	247; "user.h"	}
00022a   000c     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	  538+    0 =   538 instructions ( 1076 byte)
                                           
                                           	end
                                           ;--------------------------------------------------------
                                           ; File Created by SN-SDCC : SinoMCU ANSI-C Compiler
                                           ; Version 2.0.0 (Dec 11 2019) (MINGW32)
                                           ; This file was generated Tue Jun 17 18:00:37 2025
                                           ;--------------------------------------------------------
                                           ; MC32 port for the RISC core
                                           ;--------------------------------------------------------
                                           ;	.file	"MC32F7361.c"
                                           	list	p=7361
                                           	radix dec
                                           	include "7361.inc"
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDF0bits
                                           	extern	_INDF1bits
                                           	extern	_INDF2bits
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PCLbits
                                           	extern	_PFLAGbits
                                           	extern	_MCRbits
                                           	extern	_INDF3bits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_DRVCRbits
                                           	extern	_P0KBCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_P2KBCRbits
                                           	extern	_IOP0bits
                                           	extern	_OEP0bits
                                           	extern	_PUP0bits
                                           	extern	_PDP0bits
                                           	extern	_IOP1bits
                                           	extern	_OEP1bits
                                           	extern	_PUP1bits
                                           	extern	_PDP1bits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T0LOADbits
                                           	extern	_T0DATAbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_T2CRbits
                                           	extern	_T2CNTbits
                                           	extern	_T2LOADbits
                                           	extern	_T2DATAbits
                                           	extern	_T3CRbits
                                           	extern	_T3CNTbits
                                           	extern	_T3LOADbits
                                           	extern	_PWM0DRbits
                                           	extern	_PWM1DRbits
                                           	extern	_PWM2DRbits
                                           	extern	_PWMCR0bits
                                           	extern	_PWMCR1bits
                                           	extern	_OSCMRbits
                                           	extern	_LVDCRbits
                                           	extern	_ADCR0bits
                                           	extern	_ADCR1bits
                                           	extern	_ADCR2bits
                                           	extern	_OSADJCRbits
                                           	extern	_ADRHbits
                                           	extern	_ADRLbits
                                           	extern	_P0ADCRbits
                                           	extern	_P1ADCRbits
                                           	extern	_IOP2bits
                                           	extern	_OEP2bits
                                           	extern	_PUP2bits
                                           	extern	_PDP2bits
                                           	extern	_PMODbits
                                           	extern	_PWMCR3bits
                                           	extern	_PWMCR2bits
                                           	extern	_PFRCCRbits
                                           	extern	_PFRCCALbits
                                           	extern	_EECRbits
                                           	extern	_EEPRbits
                                           	extern	_EEARbits
                                           	extern	_EEDRHbits
                                           	extern	_EEDRLbits
                                           	extern	_DBGCRbits
                                           	extern	_DBGPRbits
                                           	extern	_HIRCCALbits
                                           	extern	_INDF0
                                           	extern	_INDF1
                                           	extern	_INDF2
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PCL
                                           	extern	_PFLAG
                                           	extern	_MCR
                                           	extern	_INDF3
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_DRVCR
                                           	extern	_P0KBCR
                                           	extern	_P1KBCR
                                           	extern	_P2KBCR
                                           	extern	_IOP0
                                           	extern	_OEP0
                                           	extern	_PUP0
                                           	extern	_PDP0
                                           	extern	_IOP1
                                           	extern	_OEP1
                                           	extern	_PUP1
                                           	extern	_PDP1
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T0LOAD
                                           	extern	_T0DATA
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           	extern	_T2CR
                                           	extern	_T2CNT
                                           	extern	_T2LOAD
                                           	extern	_T2DATA
                                           	extern	_T3CR
                                           	extern	_T3CNT
                                           	extern	_T3LOAD
                                           	extern	_PWM0DR
                                           	extern	_PWM1DR
                                           	extern	_PWM2DR
                                           	extern	_PWMCR0
                                           	extern	_PWMCR1
                                           	extern	_OSCMR
                                           	extern	_LVDCR
                                           	extern	_ADCR0
                                           	extern	_ADCR1
                                           	extern	_ADCR2
                                           	extern	_OSADJCR
                                           	extern	_ADRH
                                           	extern	_ADRL
                                           	extern	_P0ADCR
                                           	extern	_P1ADCR
                                           	extern	_IOP2
                                           	extern	_OEP2
                                           	extern	_PUP2
                                           	extern	_PDP2
                                           	extern	_PMOD
                                           	extern	_PWMCR3
                                           	extern	_PWMCR2
                                           	extern	_PFRCCR
                                           	extern	_PFRCCAL
                                           	extern	_EECR
                                           	extern	_EEPR
                                           	extern	_EEAR
                                           	extern	_EEDRH
                                           	extern	_EEDRL
                                           	extern	_DBGCR
                                           	extern	_DBGPR
                                           	extern	_HIRCCAL
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_delay_ms
                                           	global	_CLR_RAM
                                           	global	_IO_Init
                                           	global	_timer1_config
                                           	global	_timer2_pwm_config
                                           	global	_timer2_pwm_set_feq
                                           	global	_adc_config
                                           	global	_adc_sel_pin
                                           	global	_adc_getval
                                           	global	_sys_init
                                           	global	_ir_handle
                                           	global	_bat_discharge_handle
                                           	global	_main
                                           	global	_int_isr
                                           	global	_ir_data
                                           	global	_adc_val
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_flag1
                                           	global	_flag2
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC32F7361_0	udata
                                           _ir_data	res	1
                                           
                                           UD_MC32F7361_1	udata
                                           _adc_val	res	2
                                           
                                           UD_MC32F7361_2	udata
                                           _abuf	res	1
                                           
                                           UD_MC32F7361_3	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC32F7361_4	udata
                                           _flag1	res	1
                                           
                                           UD_MC32F7361_5	udata
                                           _flag2	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC32F7361_0	udata
                                           r0x100D	res	1
                                           r0x100C	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1022	res	1
                                           r0x1013	res	1
                                           r0x1014	res	1
                                           r0x1015	res	1
                                           r0x1016	res	1
                                           r0x1017	res	1
                                           r0x1018	res	1
                                           r0x1019	res	1
                                           r0x101A	res	1
                                           r0x101B	res	1
                                           r0x101C	res	1
                                           r0x101D	res	1
                                           r0x101F	res	1
                                           r0x101E	res	1
                                           r0x1020	res	1
                                           r0x1021	res	1
                                           r0x1012	res	1
                                           r0x1023	res	1
                                           r0x1024	res	1
                                           _ir_handle_last_ir_data_131072_32	res	1
                                           _int_isr_ir_level_cnt_196608_44	res	2
                                           _int_isr___ir_data_196608_44	res	4
                                           _int_isr_cnt_196608_60	res	2
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms INDF0bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF1bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF2bits                 Allocated to registers ;size:1
                                           ;@delay_ms HIBYTEbits                Allocated to registers ;size:1
                                           ;@delay_ms FSR0bits                  Allocated to registers ;size:1
                                           ;@delay_ms FSR1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PCLbits                   Allocated to registers ;size:1
                                           ;@delay_ms PFLAGbits                 Allocated to registers ;size:1
                                           ;@delay_ms MCRbits                   Allocated to registers ;size:1
                                           ;@delay_ms INDF3bits                 Allocated to registers ;size:1
                                           ;@delay_ms INTEbits                  Allocated to registers ;size:1
                                           ;@delay_ms INTFbits                  Allocated to registers ;size:1
                                           ;@delay_ms DRVCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms P0KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P2KBCRbits                Allocated to registers ;size:1
                                           ;@delay_ms IOP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T0LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T0DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T2CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T2CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T2LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T2DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T3CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T3CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T3LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM0DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM1DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM2DRbits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCMRbits                 Allocated to registers ;size:1
                                           ;@delay_ms LVDCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR0bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR1bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR2bits                 Allocated to registers ;size:1
                                           ;@delay_ms OSADJCRbits               Allocated to registers ;size:1
                                           ;@delay_ms ADRHbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADRLbits                  Allocated to registers ;size:1
                                           ;@delay_ms P0ADCRbits                Allocated to registers ;size:1
                                           ;@delay_ms P1ADCRbits                Allocated to registers ;size:1
                                           ;@delay_ms IOP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP2bits                  Allocated to registers ;size:1
                                           ;@delay_ms PMODbits                  Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2bits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCCRbits                Allocated to registers ;size:1
                                           ;@delay_ms PFRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms EECRbits                  Allocated to registers ;size:1
                                           ;@delay_ms EEPRbits                  Allocated to registers ;size:1
                                           ;@delay_ms EEARbits                  Allocated to registers ;size:1
                                           ;@delay_ms EEDRHbits                 Allocated to registers ;size:1
                                           ;@delay_ms EEDRLbits                 Allocated to registers ;size:1
                                           ;@delay_ms DBGCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms DBGPRbits                 Allocated to registers ;size:1
                                           ;@delay_ms HIRCCALbits               Allocated to registers ;size:1
                                           ;@delay_ms ir_data                   Allocated to registers ;size:1
                                           ;@delay_ms adc_val                   Allocated to registers ;size:2
                                           ;@delay_ms abuf                      Allocated to registers ;size:1
                                           ;@delay_ms statusbuf                 Allocated to registers ;size:1
                                           ;@delay_ms flag1                     Allocated to registers ;size:1
                                           ;@delay_ms flag2                     Allocated to registers ;size:1
                                           ;@delay_ms xms                       Allocated to registers ;size:2
                                           ;@delay_ms i                         Allocated to registers r0x100E r0x100F ;size:2
                                           ;@delay_ms INDF0                     Allocated to registers ;size:1
                                           ;@delay_ms INDF1                     Allocated to registers ;size:1
                                           ;@delay_ms INDF2                     Allocated to registers ;size:1
                                           ;@delay_ms HIBYTE                    Allocated to registers ;size:1
                                           ;@delay_ms FSR0                      Allocated to registers ;size:1
                                           ;@delay_ms FSR1                      Allocated to registers ;size:1
                                           ;@delay_ms PCL                       Allocated to registers ;size:1
                                           ;@delay_ms PFLAG                     Allocated to registers ;size:1
                                           ;@delay_ms MCR                       Allocated to registers ;size:1
                                           ;@delay_ms INDF3                     Allocated to registers ;size:1
                                           ;@delay_ms INTE                      Allocated to registers ;size:1
                                           ;@delay_ms INTF                      Allocated to registers ;size:1
                                           ;@delay_ms DRVCR                     Allocated to registers ;size:1
                                           ;@delay_ms P0KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms P2KBCR                    Allocated to registers ;size:1
                                           ;@delay_ms IOP0                      Allocated to registers ;size:1
                                           ;@delay_ms OEP0                      Allocated to registers ;size:1
                                           ;@delay_ms PUP0                      Allocated to registers ;size:1
                                           ;@delay_ms PDP0                      Allocated to registers ;size:1
                                           ;@delay_ms IOP1                      Allocated to registers ;size:1
                                           ;@delay_ms OEP1                      Allocated to registers ;size:1
                                           ;@delay_ms PUP1                      Allocated to registers ;size:1
                                           ;@delay_ms PDP1                      Allocated to registers ;size:1
                                           ;@delay_ms T0CR                      Allocated to registers ;size:1
                                           ;@delay_ms T0CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T0LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T0DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T1CR                      Allocated to registers ;size:1
                                           ;@delay_ms T1CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T1DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T2CR                      Allocated to registers ;size:1
                                           ;@delay_ms T2CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T2LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T2DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T3CR                      Allocated to registers ;size:1
                                           ;@delay_ms T3CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T3LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms PWM0DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM1DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWM2DR                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCMR                     Allocated to registers ;size:1
                                           ;@delay_ms LVDCR                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR0                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR1                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR2                     Allocated to registers ;size:1
                                           ;@delay_ms OSADJCR                   Allocated to registers ;size:1
                                           ;@delay_ms ADRH                      Allocated to registers ;size:1
                                           ;@delay_ms ADRL                      Allocated to registers ;size:1
                                           ;@delay_ms P0ADCR                    Allocated to registers ;size:1
                                           ;@delay_ms P1ADCR                    Allocated to registers ;size:1
                                           ;@delay_ms IOP2                      Allocated to registers ;size:1
                                           ;@delay_ms OEP2                      Allocated to registers ;size:1
                                           ;@delay_ms PUP2                      Allocated to registers ;size:1
                                           ;@delay_ms PDP2                      Allocated to registers ;size:1
                                           ;@delay_ms PMOD                      Allocated to registers ;size:1
                                           ;@delay_ms PWMCR3                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR2                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCCR                    Allocated to registers ;size:1
                                           ;@delay_ms PFRCCAL                   Allocated to registers ;size:1
                                           ;@delay_ms EECR                      Allocated to registers ;size:1
                                           ;@delay_ms EEPR                      Allocated to registers ;size:1
                                           ;@delay_ms EEAR                      Allocated to registers ;size:1
                                           ;@delay_ms EEDRH                     Allocated to registers ;size:1
                                           ;@delay_ms EEDRL                     Allocated to registers ;size:1
                                           ;@delay_ms DBGCR                     Allocated to registers ;size:1
                                           ;@delay_ms DBGPR                     Allocated to registers ;size:1
                                           ;@delay_ms HIRCCAL                   Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'timer1_config'
                                           ;@end Allocation info for local variables in function 'timer1_config';
                                           ;@Allocation info for local variables in function 'timer2_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer2_pwm_config';
                                           ;@Allocation info for local variables in function 'timer2_pwm_set_feq'
                                           ;@end Allocation info for local variables in function 'timer2_pwm_set_feq';
                                           ;@Allocation info for local variables in function 'adc_config'
                                           ;@end Allocation info for local variables in function 'adc_config';
                                           ;@Allocation info for local variables in function 'adc_sel_pin'
                                           ;@adc_sel_pin adc_pin                   Allocated to registers r0x1022 ;size:1
                                           ;@end Allocation info for local variables in function 'adc_sel_pin';
                                           ;@Allocation info for local variables in function 'adc_getval'
                                           ;@adc_getval adc_val_tmp               Allocated to registers r0x1017 r0x1018 ;size:2
                                           ;@adc_getval adc_val_sum               Allocated to registers r0x1017 r0x1018 r0x101E r0x1020 ;size:4
                                           ;@adc_getval get_adcmax                Allocated to registers r0x1017 r0x1018 ;size:2
                                           ;@adc_getval get_adcmin                Allocated to registers r0x1019 r0x101A ;size:2
                                           ;@adc_getval i                         Allocated to registers r0x101B ;size:1
                                           ;@end Allocation info for local variables in function 'adc_getval';
                                           ;@Allocation info for local variables in function 'sys_init'
                                           ;@end Allocation info for local variables in function 'sys_init';
                                           ;@Allocation info for local variables in function 'ir_handle'
                                           ;@ir_handle last_ir_data              Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'ir_handle';
                                           ;@Allocation info for local variables in function 'ir_handle'
                                           ;@ir_handle last_ir_data              Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'ir_handle';
                                           ;@Allocation info for local variables in function 'bat_discharge_handle'
                                           ;@end Allocation info for local variables in function 'bat_discharge_handle';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@int_isr ir_level_cnt              Allocated to registers ;size:2
                                           ;@int_isr __ir_data                 Allocated to registers ;size:4
                                           ;@int_isr cnt                       Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
                                           	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;2 compiler assigned registers:
                                           ;   r0x1023
                                           ;   r0x1024
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	285; "MC32F7361.c"	__endasm;
                                           	;
                                           	movra	_abuf;
                                           	swapar	_PFLAG;
                                           	movra	_statusbuf;
                                           	
                                           ;	.line	287; "MC32F7361.c"	if (T1IF & T1IE) // 定时器1 中断，100us
                                           	CLRR	r0x1023
                                           	JBCLR	_INTFbits,1
                                           	INCR	r0x1023
                                           	CLRR	r0x1024
                                           	JBCLR	_INTEbits,1
                                           	INCR	r0x1024
                                           	MOVAR	r0x1024
                                           	ANDRA	r0x1023
                                           	MOVAI	0x00
                                           	ORAR	r0x1023
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00356_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x515=1301), size=2
                                           ;	.line	300; "MC32F7361.c"	if (ir_level_cnt <= 1300)
                                           	MOVAI	0x05
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00449_DS_
                                           	MOVAI	0x15
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00449_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00309_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	301; "MC32F7361.c"	ir_level_cnt++;
                                           	INCR	_int_isr_ir_level_cnt_196608_44
                                           	JBCLR	PFLAG,2
                                           	INCR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           _00309_DS_
                                           ;	.line	317; "MC32F7361.c"	if (IR_RECV_PIN)
                                           	JBSET	_IOP1bits,3
                                           	GOTO	_00338_DS_
                                           ;	.line	319; "MC32F7361.c"	last_level_in_ir_pin = 1; // 表示接收到的是高电平
                                           	BSET	_flag1,1
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x4B1=1201), size=2
                                           ;	.line	322; "MC32F7361.c"	if (ir_level_cnt > 1200) // 超时时间(120000us,120ms)
                                           	MOVAI	0x04
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00450_DS_
                                           	MOVAI	0xb1
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00450_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00339_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	325; "MC32F7361.c"	if (__ir_data != 0) // 超时，且接收到数据(现在是在中断服务函数中把__ir_data自动清零)
                                           	MOVAR	_int_isr___ir_data_196608_44
                                           	ORAR	(_int_isr___ir_data_196608_44 + 1)
                                           	ORAR	(_int_isr___ir_data_196608_44 + 2)
                                           	ORAR	(_int_isr___ir_data_196608_44 + 3)
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00313_DS_
                                           ;	.line	334; "MC32F7361.c"	if (0 == flag_is_recved_data)
                                           	JBCLR	_flag1,0
                                           	GOTO	_00313_DS_
                                           ;	.line	338; "MC32F7361.c"	ir_data = ~__ir_data;
                                           	MOVAR	_int_isr___ir_data_196608_44
                                           	MOVRA	r0x1023
                                           	COMAR	r0x1023
                                           	MOVRA	_ir_data
                                           ;	.line	339; "MC32F7361.c"	__ir_data = 0;
                                           	CLRR	_int_isr___ir_data_196608_44
                                           	CLRR	(_int_isr___ir_data_196608_44 + 1)
                                           	CLRR	(_int_isr___ir_data_196608_44 + 2)
                                           	CLRR	(_int_isr___ir_data_196608_44 + 3)
                                           ;	.line	340; "MC32F7361.c"	flag_is_recved_data = 1;
                                           	BSET	_flag1,0
                                           _00313_DS_
                                           ;	.line	345; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 0; // 认为遥控器按键已经按下，然后松开
                                           	BCLR	_flag1,2
                                           	GOTO	_00339_DS_
                                           _00338_DS_
                                           ;	.line	350; "MC32F7361.c"	if (last_level_in_ir_pin)
                                           	JBSET	_flag1,1
                                           	GOTO	_00336_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x9=9), size=2
                                           ;	.line	353; "MC32F7361.c"	if (ir_level_cnt <= 8) // 小于800us，说明接收到无效的数据，重新接收
                                           	MOVAI	0x00
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00451_DS_
                                           	MOVAI	0x09
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00451_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00333_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	356; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 0;
                                           	BCLR	_flag1,2
                                           	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x13=19), size=2
                                           _00333_DS_
                                           ;	.line	358; "MC32F7361.c"	else if (ir_level_cnt <= 18) // 小于1800us,说明接收到了逻辑0
                                           	MOVAI	0x00
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00452_DS_
                                           	MOVAI	0x13
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00452_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00330_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	360; "MC32F7361.c"	__ir_data <<= 1;
                                           	BCLR	PFLAG,0
                                           	RLR	_int_isr___ir_data_196608_44
                                           	RLR	(_int_isr___ir_data_196608_44 + 1)
                                           	RLR	(_int_isr___ir_data_196608_44 + 2)
                                           	RLR	(_int_isr___ir_data_196608_44 + 3)
                                           	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x1B=27), size=2
                                           _00330_DS_
                                           ;	.line	365; "MC32F7361.c"	else if (ir_level_cnt <= 26) // 小于2600us,说明接收到了逻辑1
                                           	MOVAI	0x00
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00453_DS_
                                           	MOVAI	0x1b
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00453_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00327_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	367; "MC32F7361.c"	__ir_data <<= 1;
                                           	BCLR	PFLAG,0
                                           	RLR	_int_isr___ir_data_196608_44
                                           	RLR	(_int_isr___ir_data_196608_44 + 1)
                                           	RLR	(_int_isr___ir_data_196608_44 + 2)
                                           	RLR	(_int_isr___ir_data_196608_44 + 3)
                                           ;	.line	368; "MC32F7361.c"	__ir_data |= 0x01;
                                           	BSET	_int_isr___ir_data_196608_44,0
                                           	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x97=151), size=2
                                           _00327_DS_
                                           ;	.line	372; "MC32F7361.c"	else if (ir_level_cnt <= 150) // 小于15000us,说明接收到了格式头
                                           	MOVAI	0x00
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00454_DS_
                                           	MOVAI	0x97
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00454_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00334_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x1A5=421), size=2
                                           ;	.line	377; "MC32F7361.c"	else if (ir_level_cnt <= 420) // 小于42ms,说明接收完一次完整的红外信号
                                           	MOVAI	0x01
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00455_DS_
                                           	MOVAI	0xa5
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00455_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00321_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	390; "MC32F7361.c"	if (0 == flag_is_recved_data) // 如果之前未接收到数据/接收到的数据已经处理完毕
                                           	JBCLR	_flag1,0
                                           	GOTO	_00334_DS_
                                           ;	.line	394; "MC32F7361.c"	ir_data = ~__ir_data;
                                           	MOVAR	_int_isr___ir_data_196608_44
                                           	MOVRA	r0x1023
                                           	COMAR	r0x1023
                                           	MOVRA	_ir_data
                                           ;	.line	395; "MC32F7361.c"	__ir_data = 0;
                                           	CLRR	_int_isr___ir_data_196608_44
                                           	CLRR	(_int_isr___ir_data_196608_44 + 1)
                                           	CLRR	(_int_isr___ir_data_196608_44 + 2)
                                           	CLRR	(_int_isr___ir_data_196608_44 + 3)
                                           ;	.line	396; "MC32F7361.c"	flag_is_recved_data = 1;
                                           	BSET	_flag1,0
                                           	GOTO	_00334_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x4B1=1201), size=2
                                           _00321_DS_
                                           ;	.line	403; "MC32F7361.c"	else if (ir_level_cnt <= 1200) // 小于120000,120ms,说明接收到了重复码
                                           	MOVAI	0x04
                                           	RSUBAR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00456_DS_
                                           	MOVAI	0xb1
                                           	RSUBAR	_int_isr_ir_level_cnt_196608_44
                                           _00456_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00334_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	408; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 1;
                                           	BSET	_flag1,2
                                           _00334_DS_
                                           ;	.line	414; "MC32F7361.c"	ir_level_cnt = 0;
                                           	CLRR	_int_isr_ir_level_cnt_196608_44
                                           	CLRR	(_int_isr_ir_level_cnt_196608_44 + 1)
                                           _00336_DS_
                                           ;	.line	417; "MC32F7361.c"	last_level_in_ir_pin = 0; // 表示接收到的是低电平
                                           	BCLR	_flag1,1
                                           _00339_DS_
                                           ;	.line	425; "MC32F7361.c"	cnt++;
                                           	INCR	_int_isr_cnt_196608_60
                                           	JBCLR	PFLAG,2
                                           	INCR	(_int_isr_cnt_196608_60 + 1)
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x15=21), size=2
                                           ;	.line	427; "MC32F7361.c"	if (cnt <= 20) // 20 * 100us
                                           	MOVAI	0x00
                                           	RSUBAR	(_int_isr_cnt_196608_60 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00457_DS_
                                           	MOVAI	0x15
                                           	RSUBAR	_int_isr_cnt_196608_60
                                           _00457_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00351_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	429; "MC32F7361.c"	if (flag_is_led_1_enable)
                                           	JBSET	_flag2,0
                                           	GOTO	_00341_DS_
                                           ;	.line	431; "MC32F7361.c"	LED_1_PIN = LED_ON_LEVEL;
                                           	BSET	_IOP1bits,3
                                           _00341_DS_
                                           ;	.line	434; "MC32F7361.c"	if (flag_is_led_2_enable)
                                           	JBSET	_flag2,1
                                           	GOTO	_00343_DS_
                                           ;	.line	436; "MC32F7361.c"	LED_2_PIN = LED_ON_LEVEL;
                                           	BSET	_IOP1bits,4
                                           _00343_DS_
                                           ;	.line	439; "MC32F7361.c"	if (flag_is_led_3_enable)
                                           	JBSET	_flag2,2
                                           	GOTO	_00345_DS_
                                           ;	.line	441; "MC32F7361.c"	LED_3_PIN = LED_ON_LEVEL;
                                           	BSET	_IOP0bits,0
                                           _00345_DS_
                                           ;	.line	444; "MC32F7361.c"	if (flag_is_led_4_enable)
                                           	JBSET	_flag2,3
                                           	GOTO	_00347_DS_
                                           ;	.line	446; "MC32F7361.c"	LED_4_PIN = LED_ON_LEVEL;
                                           	BSET	_IOP0bits,3
                                           _00347_DS_
                                           ;	.line	449; "MC32F7361.c"	if (flag_is_led_5_enable)
                                           	JBSET	_flag2,4
                                           	GOTO	_00352_DS_
                                           ;	.line	451; "MC32F7361.c"	LED_5_PIN = LED_ON_LEVEL;
                                           	BSET	_IOP0bits,4
                                           	GOTO	_00352_DS_
                                           _00351_DS_
                                           ;	.line	456; "MC32F7361.c"	LED_1_PIN = LED_OFF_LEVEL;
                                           	BCLR	_IOP1bits,3
                                           ;	.line	457; "MC32F7361.c"	LED_2_PIN = LED_OFF_LEVEL;
                                           	BCLR	_IOP1bits,4
                                           ;	.line	458; "MC32F7361.c"	LED_3_PIN = LED_OFF_LEVEL;
                                           	BCLR	_IOP0bits,0
                                           ;	.line	459; "MC32F7361.c"	LED_4_PIN = LED_OFF_LEVEL;
                                           	BCLR	_IOP0bits,3
                                           ;	.line	460; "MC32F7361.c"	LED_5_PIN = LED_OFF_LEVEL;
                                           	BCLR	_IOP0bits,4
                                           ;;unsigned compare: left < lit(0x64=100), size=2
                                           _00352_DS_
                                           ;	.line	463; "MC32F7361.c"	if (cnt >= 100) // 100 * 100us
                                           	MOVAI	0x00
                                           	RSUBAR	(_int_isr_cnt_196608_60 + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00458_DS_
                                           	MOVAI	0x64
                                           	RSUBAR	_int_isr_cnt_196608_60
                                           _00458_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00354_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	465; "MC32F7361.c"	cnt = 0;
                                           	CLRR	_int_isr_cnt_196608_60
                                           	CLRR	(_int_isr_cnt_196608_60 + 1)
                                           _00354_DS_
                                           ;	.line	471; "MC32F7361.c"	T1IF = 0;
                                           	BCLR	_INTFbits,1
                                           _00356_DS_
                                           ;	.line	475; "MC32F7361.c"	if (T3IF & T3IE)
                                           	CLRR	r0x1023
                                           	JBCLR	_INTFbits,7
                                           	INCR	r0x1023
                                           	CLRR	r0x1024
                                           	JBCLR	_INTEbits,7
                                           	INCR	r0x1024
                                           	MOVAR	r0x1024
                                           	ANDRA	r0x1023
                                           	MOVAI	0x00
                                           	ORAR	r0x1023
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00358_DS_
                                           ;	.line	478; "MC32F7361.c"	T3IF = 0;
                                           	BCLR	_INTFbits,7
                                           _00358_DS_
                                           ;	.line	485; "MC32F7361.c"	__endasm;
                                           	;
                                           	swapar	_statusbuf;
                                           	movra	_PFLAG;
                                           	swapr	_abuf;
                                           	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	486; "MC32F7361.c"	}
                                           	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC32F7361	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _sys_init
                                           ;   _timer2_pwm_set_feq
                                           ;   _sys_init
                                           ;   _timer2_pwm_set_feq
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	269; "MC32F7361.c"	sys_init();
                                           	CALL	_sys_init
                                           ;	.line	272; "MC32F7361.c"	timer2_pwm_set_feq();
                                           	CALL	_timer2_pwm_set_feq
                                           _00303_DS_
                                           ;	.line	274; "MC32F7361.c"	while (1)
                                           	GOTO	_00303_DS_
                                           ;	.line	277; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _bat_discharge_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _bat_discharge_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	265; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _bat_discharge_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _ir_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x1012
                                           ;; Starting pCode block
                                           _ir_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	181; "MC32F7361.c"	if (flag_is_recved_data || flag_is_recv_ir_repeat_code)
                                           	JBCLR	_flag1,0
                                           	GOTO	_00231_DS_
                                           	JBSET	_flag1,2
                                           	GOTO	_00234_DS_
                                           _00231_DS_
                                           ;	.line	189; "MC32F7361.c"	if (flag_is_recv_ir_repeat_code)
                                           	JBSET	_flag1,2
                                           	GOTO	_00214_DS_
                                           ;	.line	193; "MC32F7361.c"	flag_is_recv_ir_repeat_code = 0;
                                           	BCLR	_flag1,2
                                           ;	.line	194; "MC32F7361.c"	return;
                                           	GOTO	_00234_DS_
                                           _00214_DS_
                                           ;	.line	198; "MC32F7361.c"	switch (ir_data)
                                           	MOVAR	_ir_data
                                           	MOVRA	r0x1012
                                           	MOVAR	r0x1012
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00285_DS_
                                           	GOTO	_00230_DS_
                                           _00285_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x18
                                           	JBSET	PFLAG,2
                                           	GOTO	_00286_DS_
                                           	GOTO	_00230_DS_
                                           _00286_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x22
                                           	JBSET	PFLAG,2
                                           	GOTO	_00287_DS_
                                           	GOTO	_00230_DS_
                                           _00287_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x30
                                           	JBSET	PFLAG,2
                                           	GOTO	_00288_DS_
                                           	GOTO	_00230_DS_
                                           _00288_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x62
                                           	JBSET	PFLAG,2
                                           	GOTO	_00289_DS_
                                           	GOTO	_00230_DS_
                                           _00289_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x68
                                           	JBSET	PFLAG,2
                                           	GOTO	_00290_DS_
                                           	GOTO	_00230_DS_
                                           _00290_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x90
                                           	JBSET	PFLAG,2
                                           	GOTO	_00291_DS_
                                           	GOTO	_00230_DS_
                                           _00291_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0x98
                                           	JBSET	PFLAG,2
                                           	GOTO	_00292_DS_
                                           	GOTO	_00230_DS_
                                           _00292_DS_
                                           	MOVAR	r0x1012
                                           	XORAI	0xa2
                                           	JBSET	PFLAG,2
                                           	GOTO	_00230_DS_
                                           _00230_DS_
                                           ;	.line	255; "MC32F7361.c"	last_ir_data = ir_data;
                                           	MOVAR	_ir_data
                                           	MOVRA	_ir_handle_last_ir_data_131072_32
                                           ;	.line	256; "MC32F7361.c"	ir_data = 0;
                                           	CLRR	_ir_data
                                           ;	.line	257; "MC32F7361.c"	flag_is_recved_data = 0;
                                           	BCLR	_flag1,0
                                           _00234_DS_
                                           ;	.line	259; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _ir_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sys_init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer1_config
                                           ;   _timer2_pwm_config
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer1_config
                                           ;   _timer2_pwm_config
                                           ;   _adc_config
                                           ;   _delay_ms
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _sys_init	;Function start
                                           ; 2 exit points
                                           ;	.line	164; "MC32F7361.c"	GIE = 0;
                                           	BCLR	_MCRbits,7
                                           ;	.line	165; "MC32F7361.c"	CLR_RAM();
                                           	CALL	_CLR_RAM
                                           ;	.line	166; "MC32F7361.c"	IO_Init();
                                           	CALL	_IO_Init
                                           ;	.line	167; "MC32F7361.c"	timer1_config();
                                           	CALL	_timer1_config
                                           ;	.line	168; "MC32F7361.c"	timer2_pwm_config();
                                           	CALL	_timer2_pwm_config
                                           ;	.line	170; "MC32F7361.c"	adc_config();
                                           	CALL	_adc_config
                                           ;	.line	172; "MC32F7361.c"	INTE |= (0x01 << 1); // 使能 timer1中断
                                           	BSET	_INTE,1
                                           ;	.line	174; "MC32F7361.c"	delay_ms(1); // 等待系统稳定
                                           	MOVAI	0x01
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	175; "MC32F7361.c"	GIE = 1;
                                           	BSET	_MCRbits,7
                                           ;	.line	176; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _sys_init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_getval	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;16 compiler assigned registers:
                                           ;   r0x1013
                                           ;   r0x1014
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;   r0x101E
                                           ;   r0x101F
                                           ;   r0x1020
                                           ;   r0x1021
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_getval	;Function start
                                           ; 2 exit points
                                           ;	.line	135; "MC32F7361.c"	u32 adc_val_sum = 0;     // 存放所有采集到的ad值的累加
                                           	CLRR	r0x1013
                                           	CLRR	r0x1014
                                           	CLRR	r0x1015
                                           	CLRR	r0x1016
                                           ;	.line	136; "MC32F7361.c"	u16 get_adcmax = 0;      // 存放采集到的最大的ad值
                                           	CLRR	r0x1017
                                           	CLRR	r0x1018
                                           ;	.line	137; "MC32F7361.c"	u16 get_adcmin = 0xFFFF; // 存放采集到的最小的ad值(初始值为最大值)
                                           	MOVAI	0xff
                                           	MOVRA	r0x1019
                                           	MOVRA	r0x101A
                                           ;	.line	139; "MC32F7361.c"	for (i = 0; i < 20; i++)
                                           	CLRR	r0x101B
                                           _00163_DS_
                                           ;	.line	141; "MC32F7361.c"	ADEOC = 0; // 写0开始转换
                                           	BCLR	_ADCR0bits,1
                                           _00152_DS_
                                           ;	.line	142; "MC32F7361.c"	while (!ADEOC)
                                           	JBSET	_ADCR0bits,1
                                           	GOTO	_00152_DS_
                                           ;	.line	144; "MC32F7361.c"	adc_val_tmp = ADRH << 4 | (ADRL & 0x0F);
                                           	MOVAR	_ADRH
                                           	MOVRA	r0x101C
                                           	CLRR	r0x101D
                                           	SWAPAR	r0x101D
                                           	ANDAI	0xf0
                                           	MOVRA	r0x101E
                                           	SWAPAR	r0x101C
                                           	MOVRA	r0x101F
                                           	ANDAI	0x0f
                                           	ORRA	r0x101E
                                           	XORRA	r0x101F
                                           	MOVAR	_ADRL
                                           	MOVRA	r0x101C
                                           	CLRR	r0x101D
                                           	MOVAI	0x0f
                                           	ANDRA	r0x101C
                                           	CLRR	r0x101D
                                           	MOVAR	r0x101F
                                           	ORRA	r0x101C
                                           	MOVAR	r0x101E
                                           	ORRA	r0x101D
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	146; "MC32F7361.c"	if (i < 2)
                                           	MOVAI	0x02
                                           	RSUBAR	r0x101B
                                           	JBSET	PFLAG,0
                                           	GOTO	_00161_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	148; "MC32F7361.c"	if (adc_val_tmp > get_adcmax)
                                           	MOVAR	r0x101D
                                           	RSUBAR	r0x1018
                                           	JBSET	PFLAG,2
                                           	GOTO	_00203_DS_
                                           	MOVAR	r0x101C
                                           	RSUBAR	r0x1017
                                           _00203_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00158_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	149; "MC32F7361.c"	get_adcmax = adc_val_tmp; // 更新当前采集到的最大值
                                           	MOVAR	r0x101C
                                           	MOVRA	r0x1017
                                           	MOVAR	r0x101D
                                           	MOVRA	r0x1018
                                           _00158_DS_
                                           ;	.line	150; "MC32F7361.c"	if (adc_val_tmp < get_adcmin)
                                           	MOVAR	r0x101A
                                           	RSUBAR	r0x101D
                                           	JBSET	PFLAG,2
                                           	GOTO	_00204_DS_
                                           	MOVAR	r0x1019
                                           	RSUBAR	r0x101C
                                           _00204_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00160_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	151; "MC32F7361.c"	get_adcmin = adc_val_tmp; // 更新当前采集到的最小值
                                           	MOVAR	r0x101C
                                           	MOVRA	r0x1019
                                           	MOVAR	r0x101D
                                           	MOVRA	r0x101A
                                           ;;110	MOVAR	r0x101C
                                           ;;112	MOVAR	r0x101D
                                           _00160_DS_
                                           ;	.line	152; "MC32F7361.c"	adc_val_sum += adc_val_tmp;
                                           	CLRR	r0x1020
                                           	CLRR	r0x1021
                                           ;;109	MOVAR	r0x101F
                                           	MOVAR	r0x101C
                                           	MOVRA	r0x101F
                                           	ADDRA	r0x1013
                                           ;;111	MOVAR	r0x101E
                                           	MOVAR	r0x101D
                                           	MOVRA	r0x101E
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x101E
                                           	ADDRA	r0x1014
                                           	MOVAR	r0x1020
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x1020
                                           	ADDRA	r0x1015
                                           	MOVAR	r0x1021
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x1021
                                           	ADDRA	r0x1016
                                           _00161_DS_
                                           ;	.line	139; "MC32F7361.c"	for (i = 0; i < 20; i++)
                                           	INCR	r0x101B
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           	MOVAI	0x14
                                           	RSUBAR	r0x101B
                                           	JBSET	PFLAG,0
                                           	GOTO	_00163_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;108	MOVAR	r0x1017
                                           ;	.line	155; "MC32F7361.c"	adc_val_sum -= get_adcmax;        // 去掉一个最大
                                           	MOVAR	r0x1018
                                           	MOVRA	r0x101C
                                           	CLRR	r0x101D
                                           	CLRR	r0x101F
                                           ;;107	MOVAR	r0x101B
                                           	MOVAR	r0x1017
                                           	MOVRA	r0x101B
                                           	RSUBAR	r0x1013
                                           	MOVRA	r0x1017
                                           	MOVAR	r0x1014
                                           	MOVRA	r0x1018
                                           	MOVAR	r0x101C
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x101C
                                           	RSUBRA	r0x1018
                                           	MOVAR	r0x1015
                                           	MOVRA	r0x101E
                                           	MOVAR	r0x101D
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x101D
                                           	RSUBRA	r0x101E
                                           	MOVAR	r0x101F
                                           	JBSET	PFLAG,0
                                           	INCAR	r0x101F
                                           	RSUBAR	r0x1016
                                           	MOVRA	r0x1020
                                           ;;100	MOVAR	r0x1019
                                           ;;102	MOVAR	r0x101A
                                           ;	.line	156; "MC32F7361.c"	adc_val_sum -= get_adcmin;        // 去掉一个最小
                                           	CLRR	r0x1015
                                           	CLRR	r0x1016
                                           ;;99	MOVAR	r0x1013
                                           	MOVAR	r0x1019
                                           	MOVRA	r0x1013
                                           	RSUBRA	r0x1017
                                           ;;101	MOVAR	r0x1014
                                           	MOVAR	r0x101A
                                           	MOVRA	r0x1014
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x1014
                                           	RSUBRA	r0x1018
                                           	MOVAR	r0x1015
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x1015
                                           	RSUBRA	r0x101E
                                           	MOVAR	r0x1016
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x1016
                                           	RSUBRA	r0x1020
                                           ;	.line	157; "MC32F7361.c"	adc_val_tmp = (adc_val_sum >> 4); // 除以16，取平均值
                                           	SWAPAR	r0x1017
                                           	ANDAI	0x0f
                                           	MOVRA	r0x1013
                                           	SWAPAR	r0x1018
                                           	MOVRA	r0x1014
                                           	ANDAI	0xf0
                                           	ORRA	r0x1013
                                           	XORRA	r0x1014
                                           	SWAPAR	r0x101E
                                           	MOVRA	r0x1015
                                           	ANDAI	0xf0
                                           	ORRA	r0x1014
                                           	XORRA	r0x1015
                                           	SWAPAR	r0x1020
                                           	MOVRA	r0x1016
                                           	ANDAI	0xf0
                                           	ORRA	r0x1015
                                           	XORRA	r0x1016
                                           ;;104	MOVAR	r0x1013
                                           ;;106	MOVAR	r0x1014
                                           ;;103	MOVAR	r0x1017
                                           ;	.line	159; "MC32F7361.c"	return adc_val_tmp;
                                           	MOVAR	r0x1013
                                           	MOVRA	r0x1017
                                           	MOVRA	STK00
                                           ;;105	MOVAR	r0x1018
                                           	MOVAR	r0x1014
                                           	MOVRA	r0x1018
                                           ;	.line	160; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _adc_getval
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;2 compiler assigned registers:
                                           ;   r0x1022
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;	.line	108; "MC32F7361.c"	void adc_sel_pin(u8 adc_pin)
                                           	MOVRA	r0x1022
                                           ;	.line	112; "MC32F7361.c"	if (ADC_PIN_DETECT_CHARGE == adc_pin)
                                           	MOVAR	r0x1022
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00146_DS_
                                           ;	.line	114; "MC32F7361.c"	ADCHS3 = 0;
                                           	BCLR	_ADCR0bits,7
                                           ;	.line	115; "MC32F7361.c"	ADCHS2 = 1;
                                           	BSET	_ADCR0bits,6
                                           ;	.line	116; "MC32F7361.c"	ADCHS1 = 1;
                                           	BSET	_ADCR0bits,5
                                           ;	.line	117; "MC32F7361.c"	ADCHS0 = 1;
                                           	BSET	_ADCR0bits,4
                                           	GOTO	_00147_DS_
                                           _00146_DS_
                                           ;	.line	119; "MC32F7361.c"	else if (ADC_PIN_DETECT_BATTERY == adc_pin)
                                           	MOVAR	r0x1022
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00147_DS_
                                           ;	.line	122; "MC32F7361.c"	ADCHS3 = 0;
                                           	BCLR	_ADCR0bits,7
                                           ;	.line	123; "MC32F7361.c"	ADCHS2 = 1;
                                           	BSET	_ADCR0bits,6
                                           ;	.line	124; "MC32F7361.c"	ADCHS1 = 0;
                                           	BCLR	_ADCR0bits,5
                                           ;	.line	125; "MC32F7361.c"	ADCHS0 = 0;
                                           	BCLR	_ADCR0bits,4
                                           _00147_DS_
                                           ;	.line	128; "MC32F7361.c"	delay_ms(1); // 等待adc稳定
                                           	MOVAI	0x01
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	129; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _adc_sel_pin
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _adc_config	;Function start
                                           ; 2 exit points
                                           ;	.line	96; "MC32F7361.c"	P12OE = 0; // 输入模式
                                           	BCLR	_OEP1bits,2
                                           ;	.line	97; "MC32F7361.c"	P12DC = 1; // 模拟模式
                                           	BSET	_P1ADCRbits,2
                                           ;	.line	100; "MC32F7361.c"	P05OE = 0; // 输入模式
                                           	BCLR	_OEP0bits,5
                                           ;	.line	101; "MC32F7361.c"	P05DC = 1; // 模拟模式
                                           	BSET	_P0ADCRbits,5
                                           ;	.line	103; "MC32F7361.c"	ADCR0 = 0x0B; // 12位精度，使能adc
                                           	MOVAI	0x0b
                                           	MOVRA	_ADCR0
                                           ;	.line	104; "MC32F7361.c"	ADCR1 = 0x80; // adc转换时钟选择 FHIRC/32，使用炔2.0V参考电压
                                           	MOVAI	0x80
                                           	MOVRA	_ADCR1
                                           ;	.line	105; "MC32F7361.c"	ADCR2 = 0x0F; // 采样时间，只能固定是15 个 ADCLK
                                           	MOVAI	0x0f
                                           	MOVRA	_ADCR2
                                           ;	.line	106; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _adc_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer2_pwm_set_feq	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer2_pwm_set_feq	;Function start
                                           ; 2 exit points
                                           ;	.line	82; "MC32F7361.c"	PWMCR1 = (0x01 << 4); // FTMR 选择 FHOSC
                                           	MOVAI	0x10
                                           	MOVRA	_PWMCR1
                                           ;	.line	84; "MC32F7361.c"	T2CR = (0x01 << 7) | (0x01 << 6) | (0x01 << 3); // 使能定时器，使能PWM, 时钟源选择FTMR，时钟源不分频
                                           	MOVAI	0xc8
                                           	MOVRA	_T2CR
                                           ;	.line	85; "MC32F7361.c"	T2LOAD = 255 - 1;                               //
                                           	MOVAI	0xfe
                                           	MOVRA	_T2LOAD
                                           ;	.line	86; "MC32F7361.c"	T2DATA = 255 - 50;                              /* 由于只使用 NPWM 互补PWM，这里占空比计算要用 周期计数值 减去 比较值，才是互补PWM的占空比 */
                                           	MOVAI	0xcd
                                           	MOVRA	_T2DATA
                                           ;	.line	87; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _timer2_pwm_set_feq
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	72; "MC32F7361.c"	T2CR = (0x01 << 7) | (0x01 << 6); // 使能定时器，使能PWM, CPU,
                                           	MOVAI	0xc0
                                           	MOVRA	_T2CR
                                           ;	.line	73; "MC32F7361.c"	T2LOAD = 215 - 1;                 //
                                           	MOVAI	0xd6
                                           	MOVRA	_T2LOAD
                                           ;	.line	74; "MC32F7361.c"	T2DATA = 215 - 38;                /* 由于只使用 NPWM 互补PWM，这里占空比计算要用 周期计数值 减去 比较值，才是互补PWM的占空比 */
                                           	MOVAI	0xb1
                                           	MOVRA	_T2DATA
                                           ;	.line	76; "MC32F7361.c"	PWMCR3 |= (0x01 << 5); // 使能NPWM2输出波形
                                           	BSET	_PWMCR3,5
                                           ;	.line	78; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _timer2_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer1_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer1_config	;Function start
                                           ; 2 exit points
                                           ;	.line	62; "MC32F7361.c"	T1CR |= (0x01 << 7) | (0x01 << 1); // 使能定时器，时钟源选择CPU, 4分频
                                           	MOVAI	0x82
                                           	ORRA	_T1CR
                                           ;	.line	63; "MC32F7361.c"	T1LOAD = 109 - 1;                  // 100us (从sdk复制过来的会有些误差，这里做了补偿)
                                           	MOVAI	0x6c
                                           	MOVRA	_T1LOAD
                                           ;	.line	66; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _timer1_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	39; "MC32F7361.c"	IOP0 = 0x00;   // io口数据位
                                           	CLRR	_IOP0
                                           ;	.line	40; "MC32F7361.c"	OEP0 = 0x3F;   // io口方向 1:out  0:in
                                           	MOVAI	0x3f
                                           	MOVRA	_OEP0
                                           ;	.line	41; "MC32F7361.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP0
                                           ;	.line	42; "MC32F7361.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP0
                                           ;	.line	43; "MC32F7361.c"	P0ADCR = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_P0ADCR
                                           ;	.line	45; "MC32F7361.c"	IOP1 = 0x00;   // io口数据位
                                           	CLRR	_IOP1
                                           ;	.line	46; "MC32F7361.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
                                           	MOVAI	0xff
                                           	MOVRA	_OEP1
                                           ;	.line	47; "MC32F7361.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP1
                                           ;	.line	48; "MC32F7361.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP1
                                           ;	.line	49; "MC32F7361.c"	P1ADCR = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_P1ADCR
                                           ;	.line	51; "MC32F7361.c"	IOP2 = 0x00; // io口数据位
                                           	CLRR	_IOP2
                                           ;	.line	52; "MC32F7361.c"	OEP2 = 0x0F; // io口方向 1:out  0:in
                                           	MOVAI	0x0f
                                           	MOVRA	_OEP2
                                           ;	.line	53; "MC32F7361.c"	PUP2 = 0x00; // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP2
                                           ;	.line	54; "MC32F7361.c"	PDP2 = 0x00; // io口下拉电阻   1:enable  0:disablea
                                           	CLRR	_PDP2
                                           ;	.line	56; "MC32F7361.c"	PMOD = 0x00;  // P00、P01、P13 io端口值从寄存器读，推挽输出
                                           	CLRR	_PMOD
                                           ;	.line	57; "MC32F7361.c"	DRVCR = 0x80; // 普通驱动
                                           	MOVAI	0x80
                                           	MOVRA	_DRVCR
                                           ;	.line	58; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	22; "MC32F7361.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
                                           	CLRR	_FSR0
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           _00118_DS_
                                           	MOVAI	0xff
                                           	RSUBAR	_FSR0
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00116_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	24; "MC32F7361.c"	INDF0 = 0x00;
                                           	CLRR	_INDF0
                                           ;	.line	22; "MC32F7361.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
                                           	INCR	_FSR0
                                           	GOTO	_00118_DS_
                                           _00116_DS_
                                           ;	.line	27; "MC32F7361.c"	FSR0 = 0xFF;
                                           	MOVAI	0xff
                                           	MOVRA	_FSR0
                                           ;	.line	28; "MC32F7361.c"	INDF0 = 0x00;
                                           	CLRR	_INDF0
                                           ;	.line	29; "MC32F7361.c"	}
                                           	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;7 compiler assigned registers:
                                           ;   r0x100C
                                           ;   STK00
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;   r0x1011
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	232; "user.h"	void delay_ms(u16 xms)
                                           	MOVRA	r0x100C
                                           	MOVAR	STK00
                                           	MOVRA	r0x100D
                                           _00108_DS_
                                           ;	.line	234; "user.h"	while (xms)
                                           	MOVAR	r0x100D
                                           	ORAR	r0x100C
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00111_DS_
                                           ;	.line	237; "user.h"	while (i--)
                                           	MOVAI	0xfc
                                           	MOVRA	r0x100E
                                           	CLRR	r0x100F
                                           _00105_DS_
                                           	MOVAR	r0x100E
                                           	MOVRA	r0x1010
                                           	MOVAR	r0x100F
                                           	MOVRA	r0x1011
                                           	MOVAI	0xff
                                           	ADDRA	r0x100E
                                           	JBSET	PFLAG,0
                                           	DECR	r0x100F
                                           	MOVAR	r0x1010
                                           	ORAR	r0x1011
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00107_DS_
                                           ;	.line	239; "user.h"	Nop();
                                           	nop	
                                           	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	241; "user.h"	xms--; // 把 --操作放在while()判断条件外面，更节省空间
                                           	MOVAI	0xff
                                           	ADDRA	r0x100D
                                           	JBSET	PFLAG,0
                                           	DECR	r0x100C
                                           ;	.line	245; "user.h"	__endasm;
                                           	;
                                           	clrwdt;
                                           	
                                           	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	247; "user.h"	}
                                           	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	  538+    0 =   538 instructions ( 1076 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX-------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXX---------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   548

